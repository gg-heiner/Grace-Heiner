(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[189],{1079:function(e,t,n){var i=n(1080),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1080:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1081:function(e,t){amp.plugin("retryPlugin",(function(){var e=this,t=!1,n=0,i=function(){t=!1,n=0}.bind(this),r=function(){var t=e.videoBufferData();t&&(t.addEventListener(amp.bufferDataEventName.downloadcompleted,a),t.addEventListener(amp.bufferDataEventName.downloadfailed,s))}.bind(this),o=function(){e.removeEventListener(amp.eventName.canplaythrough,i),e.removeEventListener(amp.eventName.loadedmetadata,r),e.removeEventListener(amp.eventName.disposing,o),e.removeEventListener(amp.eventName.ended,l),t=e.videoBufferData(),t&&(t.removeEventListener(amp.bufferDataEventName.downloadcompleted,a),t.removeEventListener(amp.bufferDataEventName.downloadfailed,s));var t}.bind(this),a=function(){c(),n=0}.bind(this),s=function(){var i=e.videoBufferData();i.downloadFailed&&i.downloadFailed.code&&2097564==i.downloadFailed.code&&(5==++n&&e.trigger("producerWarnDisconnected"),i.bufferLevel||!1===t&&(t=!0,e.trigger("segmentsUnavailable")))}.bind(this),l=function(){c()}.bind(this);function c(){!0===t&&(t=!1,e.trigger("segmentsAvailable"))}e.addEventListener(amp.eventName.canplaythrough,i),e.addEventListener(amp.eventName.loadedmetadata,r),e.addEventListener(amp.eventName.disposing,o),e.addEventListener(amp.eventName.ended,l)}))},1082:function(e,t){(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};amp.plugin("analytics_collectData",(function(t){var n=this,i=videojs.getComponent("Player"),r={analyticsstreamloaded:{name:"analyticsstreamloaded",label:"loaded",properties:["loadTime"]},analyticsstreamstarted:{name:"analyticsstreamstarted",label:"started",properties:[]},analyticsstreamended:{name:"analyticsstreamended",label:"ended",properties:["ended"]},analyticspercentreached:{name:"analyticspercentreached",label:"percentReached",properties:["percentReached"]},analyticsplay:{name:"analyticsplay",label:"play",properties:["currentTime"]},analyticspause:{name:"analyticspause",label:"pause",properties:["currentTime"]},analyticsseek:{name:"analyticsseek",label:"seek",properties:["currentTime","seekTime"]},analyticsfullscreen:{name:"analyticsfullscreen",label:"fullscreen",properties:["enteringFullscreen","currentTime"]},analyticserror:{name:"analyticserror",label:"error",properties:["errorCode","currentTime"]},analyticsbuffering:{name:"analyticsbuffering",label:"buffering",properties:["currentTime","bufferingTime","currentBufferedLength","perceivedBandwidth"]},analyticsplaybackfinishedplaytime:{name:"analyticsplaybackfinishedplaytime",label:"playTime",properties:["playTime"]},analyticsheartbeat:{name:"analyticsheartbeat",label:"heartbeat",properties:["playTime","fullscreenTime","percentPlayed","duration","endReached","suspendedTriggered","enteredFullscreen","currentTime","loadTime","seekCount","seekTimeTotal","maxSeekTime","avgSeekTime","rebufferCount","rebufferTimeTotal","maxRebufferTime","avgRebufferTime","qualityLevelCount","minQualityLevel","maxQualityLevel","avgBitrate","modeBitrate","avgPerceivedBandwidth","avgMeasuredBandwidth","Br_0Kbps_300Kbps","Br_300Kbps_500Kbps","Br_500Kbps_1Mbps","Br_1Mbps_1_5Mbps","Br_1_5Mbps_3Mbps","Br_3Mbps_5Mbps","Br_5Mbps_6Mbps","Br_6Mbps_20Mbps","Br_20Mbps_above","failedDownloadCount","Pr_2_0","Pr_1_75","Pr_1_5","Pr_1_25","Pr_1_0","Pr_0_5","CurrentPlaybackRate","uniquePlayTime","qoeRebufferingScore","currentBufferedLength","currentAudioBufferLength","currentVideoBufferLength","currentDownloadBitrate","perceivedBandwidth","manifestRetryCount","isInAudioOnlyMode","displayedAudioOnlyMessage"]},analyticsplaybackfinished:{name:"analyticsplaybackfinished",label:"playbackSummary",properties:["playTime","fullscreenTime","percentPlayed","duration","endReached","suspendedTriggered","enteredFullscreen","currentTime","loadTime","seekCount","seekTimeTotal","maxSeekTime","avgSeekTime","rebufferCount","rebufferTimeTotal","maxRebufferTime","avgRebufferTime","qualityLevelCount","minQualityLevel","maxQualityLevel","avgBitrate","modeBitrate","avgPerceivedBandwidth","avgMeasuredBandwidth","Br_0Kbps_300Kbps","Br_300Kbps_500Kbps","Br_500Kbps_1Mbps","Br_1Mbps_1_5Mbps","Br_1_5Mbps_3Mbps","Br_3Mbps_5Mbps","Br_5Mbps_6Mbps","Br_6Mbps_20Mbps","Br_20Mbps_above","failedDownloadCount","errorCode","Pr_2_0","Pr_1_75","Pr_1_5","Pr_1_25","Pr_1_0","Pr_0_5","CurrentPlaybackRate"]},analyticsplaybackwarning:{name:"analyticsplaybackwarning",label:"playbackwarning"}};i.prototype.analyticsEvents=r;var o={playbackSummary:"playbackSummary",loadTime:"loadTime",buffering:"buffering",downloadCompleted:"downloadCompleted",downloadFailed:"downloadFailed",bitrateQuality:"bitrateQuality",playTime:"playTime",percentReached:"percentReached",percentPlayed:"percentPlayed",rebufferTime:"rebufferTime"},a=!1,s={isBehindCDN:!1,checkSourceIsBehindCDN:function(){var e=(n.options?n.options():{}).sourceList;if(e&&e.length>0){var t=e[0].src;s.isBehindCDN=t.indexOf("azureedge.net")>-1}}},l={prevTriggerType:"",msSinceSourceSet:void 0,msSinceLastStage:void 0,isActive:!1,timeAtSourceSet:void 0,timeAtLastStage:void 0,isCyclePresent:!1,completedStages:new Set,registerStage:function(e){var t=Date.now();"sourceset"===e&&l.initOnSrcSet(t),l.isActive&&(l.msSinceSourceSet=t-l.timeAtSourceSet,l.msSinceLastStage=t-l.timeAtLastStage,l.completedStages.has(e)&&(l.isCyclePresent=!0),l.completedStages.add(e),l.timeAtLastStage=t,l.prevTriggerType=e,"canplaythrough"===e&&(l.isActive=!1))},initOnSrcSet:function(e){l.timeAtSourceSet=e,l.timeAtLastStage=e,l.prevTriggerType="",l.isActive=!0,l.isCyclePresent=!1,l.completedStages.clear()}},c={currentTime:function(){return Math.round(n.currentTime())||0},duration:function(){return(a?n.duration().toFixed(2):T.duration)||null},currentDownloadBitrate:function(){return n.currentDownloadBitrate()},currentAudioBufferLength:function(){return function(){if(n.audioBufferData){var e=n.audioBufferData();if(e)return e.bufferLevel}return null}()},currentVideoBufferLength:function(){return function(){if(n.videoBufferData){var e=n.videoBufferData();if(e)return e.bufferLevel}return null}()},loadTime:function(){return T.loadTime},timeToStartPlayback:function(){},suspendedTriggered:function(){return T.suspended?1:0},manifestRetryCount:function(){return T.livestartupretry()},playIntervals:function(){return B.getArrayOfTimes()||null},uniquePlayIntervals:function(){return B.getUniqueArrayOfTimes()||null},uniquePlayTime:function(){return B.getUniquePlayTime()},playTime:function(){return a?M.totalSeconds:B.totalSecondsWatched},fullscreenTime:function(){return a?M.totalSecondsFullscreen:B.totalSecondsWatchedFullscreen},percentReached:function(){return Math.round(Math.round(n.currentTime())/Math.round(n.duration())*100)},percentPlayed:function(){return a?null:Math.min(Math.round(B.getUniquePlayTime()/n.duration()*100),100)||0},endReached:function(){return T.endedReached?1:0},perceivedBandwidth:function(){return P.videoBuffer?Math.round(P.videoBuffer.perceivedBandwidth):0},avgPerceivedBandwidth:function(){return P.videoBuffer?Math.round(P.sumPerceivedBandwidth/P.downloadedChunks):0},avgMeasuredBandwidth:function(){return P.videoBuffer?Math.round(P.sumMeasuredBandwidth/P.downloadedChunks):0},qualityLevelCount:function(){return P.qualityLevels||null},minQualityLevel:function(){return P.minQualityLevel||null},maxQualityLevel:function(){return P.maxQualityLevel||null},avgBitrate:function(){return P.downloadedChunks>0?Math.round(P.sumBitrate/P.downloadedChunks):null},modeBitrate:function(){return P.getModeBitrate()},Br_0Kbps_300Kbps:function(){return P.chunksInBitrateRange.Br_0Kbps_300Kbps},Br_300Kbps_500Kbps:function(){return P.chunksInBitrateRange.Br_300Kbps_500Kbps},Br_500Kbps_1Mbps:function(){return P.chunksInBitrateRange.Br_500Kbps_1Mbps},Br_1Mbps_1_5Mbps:function(){return P.chunksInBitrateRange.Br_1Mbps_1_5Mbps},Br_1_5Mbps_3Mbps:function(){return P.chunksInBitrateRange.Br_1_5Mbps_3Mbps},Br_3Mbps_5Mbps:function(){return P.chunksInBitrateRange.Br_3Mbps_5Mbps},Br_5Mbps_6Mbps:function(){return P.chunksInBitrateRange.Br_5Mbps_6Mbps},Br_6Mbps_20Mbps:function(){return P.chunksInBitrateRange.Br_6Mbps_20Mbps},Br_20Mbps_above:function(){return P.chunksInBitrateRange.Br_20Mbps_above},Pr_2_0:function(){return A.Pr_2_0},Pr_1_75:function(){return A.Pr_1_75},Pr_1_5:function(){return A.Pr_1_5},Pr_1_25:function(){return A.Pr_1_25},Pr_1_0:function(){return A.Pr_1_0},Pr_0_5:function(){return A.Pr_0_5},CurrentPlaybackRate:function(){return n.playbackRate()},failedDownloadCount:function(){return P.videoBuffer?P.failedChunks:null},errorCode:function(){return n.error()?n.error().code.toString(16):null},errorMessage:function(){return n.error()?n.error().message:null},bufferingTime:function(){return _.bufferingTime},currentBufferedLength:function(){return E?E():null},rebufferCount:function(){return _.state?_.count+1:_.count},rebufferTimeTotal:function(){return _.state?_.bufferingTimeTotal+Math.abs(Date.now()-_.bufferingTimeStart):_.bufferingTimeTotal},maxRebufferTime:function(){return _.maxBufferingTime},qoeRebufferingScore:function(){return _.score()},avgRebufferTime:function(){return Math.round(this.rebufferTimeTotal()/this.rebufferCount())||0},seekTime:function(){return w.seekTime},seekTimeTotal:function(){return w.seekTimeTotal},maxSeekTime:function(){return w.maxSeekTime},avgSeekTime:function(){return Math.round(w.seekTimeTotal/w.seekCount)||0},seekCount:function(){return w.seekCount},enteringFullscreen:function(){return n.isFullscreen()?1:0},enteredFullscreen:function(){return B.totalSecondsWatchedFullscreen>0||M.totalSecondsFullscreen>0?1:0},playbackSummary:function(){getPlaybackSummary()},maxVideoResolution:function(){var e=n.getMaxVideoResolution&&n.getMaxVideoResolution();if(e)return e.width+"x"+e.height},isInAudioOnlyMode:function(){return n.getIsInAudioOnlyMode?n.getIsInAudioOnlyMode():null},displayedAudioOnlyMessage:function(){return n.getDisplayedAudioOnlyMessage?n.getDisplayedAudioOnlyMessage():null}};i.prototype.getData=c,n.telemetryData={};var u;null==t&&(t={});var d={};this.options()["data-setup"]&&(u=JSON.parse(this.options()["data-setup"])).analytics_collectData&&(d=u.analytics_collectData);var p=t.metricsToTrack||d.metricsToTrack||["playbackSummary"],m={};p.forEach((function(e,t,n){m[e]=!0})),i.prototype.metricsToTrack=m;var h=t.heartbeatInterval||d.heartbeatInterval||3e4,f=t.percentsPlayedInterval||d.percentsPlayedInterval||20,v=t.debug||d.debug||!1;i.prototype.analyticsDebug=v;var y=t.streamId||d.streamId||null,g=[],b=-1,S=null;function k(e){if(e){var t="",n=e.split("//");if(n.length>1)for(var i=1;i<n.length;i++)i>1&&(t+="//"),t+=n[i];else t=e;t.match(/.ism\/manifest/i)&&(t=t.split(/.ism\/manifest/i)[0]+".ism/manifest")}return t||"unknown"}function C(e){var t="unknown";if(e)switch(e.toLowerCase()){case"aes":t="aes";break;case"playready":case"widevine":case"fairplay":t="drm";break;default:t="none"}return t}function E(){var e=n.buffered(),t=n.currentTime();if(e)return Math.max(0,e.end(e.length-1)-t).toFixed(2)}var T={loadTime:0,canplaythrough:!1,suspended:!1,loadTimeStart:Date.now(),duration:null,firstPlay:!1,videoPlayerLoaded:!1,endedReached:!1,videoElementUsed:!1,manifestRetryCount:0,wasPageInBackgroundDuringLoad:!1,updateLoadTime:function(){n.error()||(this.duration=n.duration().toFixed(2)),this.loadTime=Math.abs(Math.round(Date.now()-this.loadTimeStart)),v&&(console.log("Player Load Time determined: "+this.loadTime+"ms"),console.log("Load Time since pageload determined: "+performance.now().toFixed(2)+"ms")),m.loaded&&n.trigger(r.analyticsstreamloaded.name)},reset:function(){this.loadTime=0,this.loadTimeStart=Date.now(),this.duration=null,this.isLive=!1,this.firstPlay=!1,this.endedReached=!1,this.canplaythrough=!1,this.videoPlayerLoaded=!1,this.suspended=!1,y=t.streamId||d.streamId||null},livestartupretry:function(){this.manifestRetryCount++}},_={aboveRebufferThreshold:!1,state:!1,bufferingTime:0,bufferingTimeStart:0,bufferingTimeTotal:0,maxBufferingTime:0,count:0,enterBuffering:function(){T.firstPlay&&(this.bufferingTimeStart=Date.now(),this.state=!0,this.count++,v&&console.log("Entering buffering state..."))},send:function(){if(this.state){var e=Math.abs(Date.now()-this.bufferingTimeStart);if(e>10)this.bufferingTime=e,this.maxBufferingTime=Math.max(this.maxBufferingTime,this.bufferingTime),0!==Math.round(n.currentTime())&&m.buffering&&n.trigger(r.analyticsbuffering.name),this.bufferingTimeTotal+=this.bufferingTime,v&&console.log("Exiting buffering state.  Time spent rebuffering was "+this.bufferingTime+"ms");else v&&console.log("Exit buffering state...no buffering detected");this.state=!1}},reset:function(){this.bufferingTime=0,this.bufferingTimeStart=0,this.bufferingTimeTotal=0,this.count=0,this.state=!1,this.maxBufferingTime=0},score:function(){var e;return c.playTime()>0&&(e=(5*this.count+this.bufferingTimeTotal/1e3)/c.playTime()),e},rebufferingQuality:function(){var e=c.playTime,t=this.score();return 0===e?"DidNotStart":e<120?"Unknown":t<=.3?"Excellent":t>.3&&t<=1?"Good":t>1&&t<=2?"Fair":t>2&&t<=4?"Poor":t>4?"VeryPoor":"Unknown"}},P={videoBuffer:null,audioBuffer:null,sumBitrate:0,sumPerceivedBandwidth:0,sumMeasuredBandwidth:0,downloadedChunks:0,failedChunks:0,qualityLevels:null,maxQualityLevel:null,minQualityLevel:null,downloadsByBitrate:null,chunksInBitrateRange:{Br_0Kbps_300Kbps:0,Br_300Kbps_500Kbps:0,Br_500Kbps_1Mbps:0,Br_1Mbps_1_5Mbps:0,Br_1_5Mbps_3Mbps:0,Br_3Mbps_5Mbps:0,Br_5Mbps_6Mbps:0,Br_6Mbps_20Mbps:0,Br_20Mbps_above:0},setQualityLevels:function(){if(this.videoBuffer){var e=n.currentVideoStreamList().streams?n.currentVideoStreamList().streams[0]:void 0;if(e){this.qualityLevels=e.tracks.length,this.downloadsByBitrate={};for(var t=0;t<this.qualityLevels;t++)this.downloadsByBitrate[e.tracks[t].bitrate]=0,this.maxQualityLevel=this.maxQualityLevel?Math.max(this.maxQualityLevel,e.tracks[t].bitrate):e.tracks[t].bitrate,this.minQualityLevel=this.minQualityLevel?Math.min(this.minQualityLevel,e.tracks[t].bitrate):e.tracks[t].bitrate}}},getModeBitrate:function(){var e=null,t=0;if(this.videoBuffer)for(var n in this.downloadsByBitrate)if(this.downloadsByBitrate.hasOwnProperty(n)){var i=this.downloadsByBitrate[n];i>=t&&(t=i,e=parseInt(n))}return t?e:null},completed:function(){if(this.qualityLevels||this.setQualityLevels(),n.currentDownloadBitrate()){this.downloadedChunks+=1,this.sumBitrate+=n.currentDownloadBitrate(),this.downloadsByBitrate&&(this.downloadsByBitrate[n.currentDownloadBitrate()]+=1),this.videoBuffer&&(m.downloadInfo&&(n.telemetryData[o.downloadCompleted]={bitrate:n.currentDownloadBitrate(),measuredBandwidth:this.videoBuffer.downloadCompleted.measuredBandwidth,perceivedBandwidth:this.videoBuffer.perceivedBandwidth}),this.sumPerceivedBandwidth+=this.videoBuffer.perceivedBandwidth,this.sumMeasuredBandwidth+=this.videoBuffer.downloadCompleted.measuredBandwidth);var e=n.currentDownloadBitrate();e<3e5&&this.chunksInBitrateRange.Br_0Kbps_300Kbps++,e>3e5&&e<5e5&&this.chunksInBitrateRange.Br_300Kbps_500Kbps++,e>5e5&&e<1e6&&this.chunksInBitrateRange.Br_500Kbps_1Mbps++,e>1e6&&e<15e5&&this.chunksInBitrateRange.Br_1Mbps_1_5Mbps++,e>15e5&&e<3e6&&this.chunksInBitrateRange.Br_1_5Mbps_3Mbps++,e>3e6&&e<5e6&&this.chunksInBitrateRange.Br_3Mbps_5Mbps++,e>5e6&&e<6e6&&this.chunksInBitrateRange.Br_5Mbps_6Mbps++,e>6e6&&e<2e7&&this.chunksInBitrateRange.Br_6Mbps_20Mbps++,e>2e7&&this.chunksInBitrateRange.Br_20Mbps_above++}},failed:function(e){if(m.downloadInfo){var t,i;if("audio"==e.toLowerCase()){var r=0;t=this.audioBuffer.downloadFailed.code.toString(8),i=this.audioBuffer.downloadFailed.message}else{r=1;t=this.videoBuffer.downloadFailed.code.toString(8),i=this.videoBuffer.downloadFailed.message}n.telemetryData[o.downloadFailed]={isVideo:r,code:t,message:i}}this.failedChunks++},send:function(){if(m.bitrateQuality&&this.downloadedChunks>0){if(bitrateQualityMetrics={avgBitrate:this.sumBitrate/this.downloadedChunks},this.videoBuffer){var e=Math.round(this.sumMeasuredBandwidth/this.downloadedChunks),t=Math.round(this.sumPerceivedBandwidth/this.downloadedChunks);bitrateQualityMetrics.avgMeasuredBandwidth=e,bitrateQualityMetrics.avgPerceivedBandwidth=t}n.telemetryData[o.telemetryData]=bitrateQualityMetrics}},reset:function(){this.videoBuffer=null,this.audioBuffer=null,this.sumBitrate=0,this.sumPerceivedBandwidth=0,this.sumMeasuredBandwidth=0,this.downloadedChunks=0,this.failedChunks=0,this.qualityLevels=null,this.minQualityLevel=null,this.maxQualityLevel=null,this.downloadsByBitrate=null,this.chunksInBitrateRange={Br_0Kbps_300Kbps:0,Br_300Kbps_500Kbps:0,Br_500Kbps_1Mbps:0,Br_1Mbps_1_5Mbps:0,Br_1_5Mbps_3Mbps:0,Br_3Mbps_5Mbps:0,Br_5Mbps_6Mbps:0,Br_6Mbps_20Mbps:0,Br_20Mbps_above:0}}},w={seeking:!1,seekTime:0,seekTimeTotal:0,seekCount:0,seekTimeStart:Date.now(),maxSeekTime:0,enterSeek:function(){_.state&&_.send(),this.seeking=!0,this.seekTimeStart=Date.now()},exitSeek:function(){this.seeking&&(this.seekTime=Math.abs(Date.now()-this.seekTimeStart),this.seekCount++,this.seekTimeTotal+=this.seekTime,this.maxSeekTime=Math.max(this.maxSeekTime,this.seekTime),m.seek&&n.trigger(r.analyticsseek.name),this.seeking=!1)},avgSeekTime:function(){return this.seekTimeTotal/this.seekCount||0},reset:function(){this.seeking=!1,this.seekTime=0,this.seekTimeTotal=0,this.seekCount=0,this.seekTimeStart=Date.now(),this.maxSeekTime=0}},B={startTime:0,endTime:0,added:!1,lastCheckedTime:0,arrayOfTimes:[],arrayOfTimesFullscreen:[],uniqueArrayOfTimesFullscreen:[],totalSecondsWatched:0,totalSecondsWatchedFullscreen:0,sortAlgorithm:function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0},update:function(e){e==this.lastCheckedTime+1&&(this.added=!1,this.totalSecondsWatched+=1,n.isFullscreen()&&(this.totalSecondsWatchedFullscreen+=1)),e!=this.lastCheckedTime&&e!=this.lastCheckedTime+1&&(this.pushOn(),this.startTime=e),this.lastCheckedTime=e},pushOn:function(){this.endTime=this.lastCheckedTime,this.startTime!==this.endTime&&(this.arrayOfTimes.push([this.startTime,this.endTime]),this.added=!0)},getArrayOfTimes:function(){var e=[];e=this.arrayOfTimes.slice();var t=Math.round(n.currentTime());return this.added||this.startTime===t||e.push([this.startTime,t]),e},getUniqueArrayOfTimes:function(){var e=this.getArrayOfTimes().slice();e.sort(this.sortAlgorithm);var t=[];if(e.length>1){t.push(e[0]);for(var n=1;n<e.length;n++)if(e[n][0]<=t[t.length-1][1]){if(e[n][1]>t[t.length-1][1]){var i=t[t.length-1][0],r=e[n][1];t.pop(),t.push([i,r])}}else t.push(e[n])}else t=e;return t},getPlayTime:function(){for(var e=this.getArrayOfTimes(),t=0,n=0;n<e.length;n++)t+=e[n][1]-e[n][0];return Math.round(t)},getUniquePlayTime:function(){for(var e=this.getUniqueArrayOfTimes(),t=0,n=0;n<e.length;n++)t+=e[n][1]-e[n][0];return Math.round(t)},reset:function(){this.startTime=0,this.endTime=0,this.lastCheckedTime=0,this.totalSecondsWatched=0,this.totalSecondsWatchedFullscreen=0,this.added=!1,this.arrayOfTimes=[],this.arrayOfTimesFullscreen=[],this.uniqueArrayOfTimesFullscreen=[]}},M={totalSeconds:0,totalSecondsFullscreen:0,start:function(){var e=this;this.interval=setInterval((function(){e.totalSeconds+=1,n.isFullscreen()&&(e.totalSecondsFullscreen+=1)}),1e3)},pause:function(){clearInterval(this.interval),delete this.interval},resume:function(){this.interval||this.start()},reset:function(){this.totalSeconds=0,this.totalSecondsFullscreen=0}},O={heartbeatOn:!1,intervalHeartbeatFunction:null,lastTimeUpdateCallTime:0,timeupdateTimer:NaN,updateLastTimeupdateTime:function(){if(0===this.lastTimeUpdateCallTime)this.lastTimeUpdateCallTime=Date.now();else if(isNaN(this.timeupdateTimer)&&this.lastTimeUpdateCallTime>0){var e=this;this.timeupdateTimer=setTimeout((function(){e.lastTimeUpdateCallTime=Date.now(),e.timeupdateTimer=NaN}),3e3)}},startHeartbeat:function(){this.heartbeatOn||(this.intervalHeartbeatFunction=setInterval(this.sendHeartbeat.bind(this),h),this.heartbeatOn=!0)},stopHeartbeat:function(){this.heartbeatOn&&(clearInterval(this.intervalHeartbeatFunction),this.heartbeatOn=!1,this.sendHeartbeat())},sendHeartbeat:function(e){T.canplaythrough||T.wasPageInBackgroundDuringLoad||(T.wasPageInBackgroundDuringLoad=!("visible"===document.visibilityState));if(e=e||"intervalHeartbeat",this.lastTimeUpdateCallTime>0&&"intervalHeartbeat"===e){var t=Date.now()-this.lastTimeUpdateCallTime;if(v&&console.log("Time since last timeupdate = "+t),t>3e4)return void this.stopHeartbeat()}l.registerStage(e);var i={triggerType:e,wasPageInBackgroundDuringLoad:T.wasPageInBackgroundDuringLoad},o={type:r.analyticsheartbeat.name,data:{telemetryProperties:i}};n.trigger(o)},reset:function(){clearInterval(this.intervalHeartbeatFunction),this.intervalHeartbeatFunction=null,this.heartbeatOn=!1,this.lastTimeUpdateCallTime=0,isNaN(this.timeupdateTimer)||(clearTimeout(this.timeupdateTimer),this.timeupdateTimer=NaN)}},A={Pr_2_0:0,Pr_1_75:0,Pr_1_5:0,Pr_1_25:0,Pr_1_0:0,Pr_0_5:0},L=function(){T.canplaythrough||(T.updateLoadTime(),T.canplaythrough=!0,a=n.isLive(),T.videoPlayerLoaded=!0)},x=function(){switch(n.playbackRate()){case.5:A.Pr_0_5=1;break;case 1:A.Pr_1_0=1;break;case 1.25:A.Pr_1_25=1;break;case 1.5:A.Pr_1_5=1;break;case 1.75:A.Pr_1_75=1;break;case 2:A.Pr_2_0=1}},V={warningsConfirmationTimer:NaN,decryptionFailedHandler:function(e,t){m.warnings&&isNaN(V.warningsConfirmationTimer)&&(V.warningsConfirmationTimer=setTimeout((function(){var i={triggerType:"playbackWarning"};i.errorMessage=e.type.concat(" ",t.url),i.workflowType=t.streamType,i.warning=e.type;var o={type:r.analyticsplaybackwarning.name,data:{telemetryProperties:i}};n.trigger(o),V.warningsConfirmationTimer=NaN}),5e3))}};function D(){_.state&&_.send(),m.playTime&&n.trigger(r.analyticsplaybackfinishedplaytime.name),m.heartbeat&&(O.stopHeartbeat(),O.sendHeartbeat()),m.playbackSummary&&n.trigger(r.analyticsplaybackfinished.name)}n.addEventListener("sourceset",(function(){n.options().sourceSetByRetry?n.options().sourceSetByRetry=!1:(T.videoElementUsed&&D(),T.reset(),_.reset(),M.reset(),B.reset(),P.reset(),w.reset(),O.reset(),0,b=null,S=null,y=null,a=!1,s.checkSourceIsBehindCDN(),v&&console.log("Resetting App Insight Plugin Config")),O.sendHeartbeat("sourceset")})),n.addEventListener("loadedmetadata",(function(){(y=t.streamId||d.streamId||null)||(y=k(n.currentSrc())),v&&console.log("streamId set as: "+y),S=n.currentProtectionInfo()?C(n.currentProtectionInfo()[0].type):"none",v&&console.log("protectionInfo set as: "+S),T.videoElementUsed=!0})),n.addEventListener("canplaythrough",L),n.addEventListener("ratechange",x),n.addEventListener("livestartupretry",T.livestartupretry),n.addEventListener("decryptionFailed",V.decryptionFailedHandler);var F=n.tagAttributes.id;function R(e){if(!e||0===e.length)return null;var t=[];return e.forEach((function(e){2===e.length&&t.push("["+e[0]+","+e[1]+"]")})),t.join(",")}(document.getElementById(F+"_html5_api")?document.getElementById(F+"_html5_api"):document.getElementById(F)).addEventListener("suspend",(function(){})),(m.bitrateQuality||m.downloadInfo||m.playbackSummary||m.heartbeat)&&n.addEventListener("loadedmetadata",(function(){P.videoBuffer=n.videoBufferData(),P.videoBuffer&&(P.videoBuffer.addEventListener("downloadcompleted",(function(){P.completed()})),P.videoBuffer.addEventListener("downloadfailed",(function(){P.failed("video")}))),P.audioBuffer=n.audioBufferData(),P.audioBuffer&&P.audioBuffer.addEventListener("downloadfailed",(function(){P.failed("audio")}))})),(m.error||m.playTime||m.playbackSummary||m.heartbeat)&&n.addEventListener("error",(function(){isNaN(V.warningsConfirmationTimer)||(clearTimeout(V.warningsConfirmationTimer),V.warningsConfirmationTimer=NaN),0==T.loadTime&&T.updateLoadTime(),(m.playTime||m.playbackSummary||m.heartbeat)&&a&&M.pause(),m.error&&n.trigger(r.analyticserror.name)})),(m.end||m.playTime||m.playbackSummary||m.heartbeat)&&n.addEventListener("ended",(function(){T.endedReached||(T.endedReached=!0),(m.playTime||m.playbackSummary||m.heartbeat)&&a&&M.pause(),m.ended&&n.trigger(r.analyticsstreamended.name)})),m.heartbeat&&(n.addEventListener("error",(function(){T.videoPlayerLoaded=!0,O.stopHeartbeat()})),n.addEventListener("loadeddata",(function(){T.videoPlayerLoaded=!0,O.sendHeartbeat("loadeddata")})),n.addEventListener("canplaythrough",(function(){O.sendHeartbeat("canplaythrough")})),n.addEventListener("playerSetupCheckCompleted",(function(){O.sendHeartbeat("playerSetupCheckCompleted")})),n.addEventListener("manifestFetchCompleted",(function(){O.sendHeartbeat("manifestFetchCompleted")})),n.addEventListener("manifestParsingCompleted",(function(){O.sendHeartbeat("manifestParsingCompleted")})),n.addEventListener("livestartupretry",(function(){O.sendHeartbeat("livestartupretry")})),n.addEventListener("initialBandwidthEstimationCompleted",(function(){O.sendHeartbeat("initialBandwidthEstimationCompleted")})),n.addEventListener("aesKeyFetchCompleted",(function(){O.sendHeartbeat("aesKeyFetchCompleted")})),n.addEventListener("decryptorInitialized",(function(){O.sendHeartbeat("decryptorInitialized")})),n.addEventListener("mediaSourceSrcSetResolved",(function(){O.sendHeartbeat("mediaSourceSrcSetResolved")})),n.addEventListener("playing",(function(){O.startHeartbeat()})),n.addEventListener("ended",(function(){O.stopHeartbeat()})),n.addEventListener("pause",(function(){setTimeout((function(){n.paused()&&O.stopHeartbeat()}),1e3)}))),(m.percentsPlayed||m.bitrateQuality||m.playbackSummary||m.playTime||m.heartbeat)&&n.addEventListener("timeupdate",(function(){if(y){_.state&&_.send();var t=Math.round(n.currentTime());if((m.playbackSummary||m.heartbeat||m.playTime)&&B.update(t),m.percentsPlayed&&!a){var i=Math.round(n.duration()),o=Math.round(t/i*100);o!=b&&o%f==0&&o<=100&&(e.call(g,o)<0&&(0!==o&&f,g.push(o)),n.trigger(r.analyticspercentreached.name)),b=o}(m.bitrateQuality||m.playbackSummary||m.heartbeat)&&!P.videoBuffer&&n.currentDownloadBitrate()&&P.completed(),O.updateLastTimeupdateTime()}})),n.addEventListener("playing",(function(){T.canplaythrough||L(),w.seeking=!1,T.firstPlay||(m.viewed&&n.trigger(r.analyticsstreamstarted.name),T.firstPlay=!0,x()),(m.buffering||m.playbackSummary||m.heartbeat)&&_.send(),(m.playTime||m.playbackSummary||m.heartbeat)&&a&&(0==M.totalSeconds?M.start():M.resume())})),(m.playTime||m.bitrateQuality||m.playbackSummary||m.heartbeat)&&n.addEventListener("disposing",(function(){for(var e in D(),n.analyticsEvents){var t=n.analyticsEvents[e];n.removeEventListener(t.name)}})),m.play&&n.addEventListener("play",(function(){m.play&&(w.seeking||n.trigger(r.analyticsplay.name))})),(m.pause||m.playTime||m.buffering||m.playbackSummary||m.heartbeat)&&n.addEventListener("pause",(function(){(m.playTime||m.playbackSummary||m.heartbeat)&&a&&M.pause(),m.pause&&setTimeout((function(){Math.round(n.currentTime())===Math.round(n.duration())||w.seeking||m.pause&&n.trigger(r.analyticspause.name)}),100)})),(m.buffering||m.playbackSummary||m.heartbeat)&&n.addEventListener("waiting",(function(e,t){!!t&&"bufferUnderrun"!==t.context||(_.enterBuffering(),O.sendHeartbeat("buffering"));var i,r=c.playTime(),o=c.rebufferTimeTotal();o&&r&&(i=o/1e3/r),r>10&&n.options_&&n.options_.audioOnlyRebufferThreshold&&i&&n.options_.audioOnlyRebufferThreshold<i&&!_.aboveRebufferThreshold&&(_.aboveRebufferThreshold=!0,n.trigger("rebufferRatioReached"))})),(m.buffering||m.seek||m.playbackSummary||m.heartbeat)&&(n.addEventListener("seeking",(function(){w.enterSeek()})),n.addEventListener("seeked",(function(){w.exitSeek()}))),m.fullscreen&&n.addEventListener("fullscreenchange",(function(){n.trigger(r.analyticsfullscreen.name)})),i.prototype.getTelemetryProperties=function(){var e={StreamId:y||"unknown",PluginVersion:.6,PlayerVersion:n.getFullAmpVersion()||"unknown",PlaybackTech:n.currentTechName()||"unknown",ProtectionType:S||"unknown",autoPlay:n.autoplay()||"unknown",heuristicsProfile:n.currentHeuristicProfile()||"unknown",isBehindCDN:s.isBehindCDN};if(!y){var t="unknown";n.options_.sourceList[0]&&(t=k(n.options_.sourceList[0].src)),e.StreamId=t}if(!S){var i="unknown";n.options_.sourceList[0]&&(i=n.options_.sourceList[0].protectionInfo?C(n.options_.sourceList[0].protectionInfo[0].type):"none"),e.ProtectionType=i}return e.manualBitrateChanged=!1,e},i.prototype.getEventMetrics=function(e){var t={};return r[e]&&r[e].hasOwnProperty("properties")&&r[e].properties.forEach((function(e,n,i){if(c[e]&&"function"==typeof c[e]){var r=c[e]();null===r||isNaN(r)||(t[e]=r)}})),t},i.prototype.getDynamicTelemetryProperties=function(){var e=R(c.playIntervals()),t=R(c.uniquePlayIntervals()),i=c.manifestRetryCount(),r=n.currentType()||"unknown",o={};return function(e,t,n){if(!(e&&t&&n&&Array.isArray(t)&&Array.isArray(n)&&t.length==n.length))return;for(var i=0;i<t.length;i++)void 0!==n[i]&&null!==n[i]&&(e[t[i]]=n[i])}(o,["qoeRebuffering","playIntervals","uniquePlayIntervals","manifestRetryCount","MimeType","maxVideoResolution","loaded"],[_.rebufferingQuality(),e,t,i,r,c.maxVideoResolution(),T.videoPlayerLoaded]),o},i.prototype.getChronometerData=function(){return{prevChronometerTriggerType:l.prevTriggerType,isCyclePresent:l.isCyclePresent,msSinceSourceSet:l.msSinceSourceSet,msSinceLastStage:l.msSinceLastStage}}}))}).call(this)},1083:function(e,t,n){var i=n(1084),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1084:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1085:function(e,t,n){var i=n(1086),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1086:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1087:function(e,t,n){var i=n(1088),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1088:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1089:function(e,t,n){var i=n(1090),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1090:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1091:function(e,t,n){var i=n(1092),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1092:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1093:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var u=videojs.getComponent("Button");n(1094);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t.name="streamIconButton",(n=l.call(this,e,t)).el_.setAttribute("aria-label",n.localize("View in Microsoft Stream")),n.controlTextEl_&&n.controlTextEl_.setAttribute("aria-live","off"),n}return t=u,(n=[{key:"buildCSSClass",value:function(){return"amp-stream-icon ".concat(o(c(u.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){var e=this.options&&this.options();e&&(e.externalLink&&window.open(e.externalLink,"_blank"),e.logOnClick&&e.logOnClick())}}])&&r(t.prototype,n),i&&r(t,i),u}(u);d.prototype.controlText_="View in Microsoft Stream",videojs.registerComponent("StreamIconButton",d);videojs.plugin("streamIconPlugin",(function(e){var t=this;e&&e.externalLink;t.on("loadedmetadata",(function(){var n,i=t.controlBar.children();if(!t.controlBar.streamIconButton)for(var r=0;r<i.length;r++){if(i[r].el()&&"amp-controlbaricons-right"===i[r].el().className){var o=t.controlBar.children()[r],a=this.controlBar.addChild("StreamIconButton",e);n=o.addChild(a),o.el()&&o.el().insertAdjacentElement&&"function"==typeof o.el().insertAdjacentElement&&o.el().insertAdjacentElement("beforeend",n.el())}n&&(t.controlBar.streamIconButton=n)}}))}))},1094:function(e,t,n){var i=n(1095),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1095:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1096:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var u=videojs.getComponent("Button");n(1097);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t.name="theaterModeButton",(n=l.call(this,e,t)).controlText(n.htmlEncode(n.localize("Theater mode"))),n.el_.setAttribute("aria-label",n.localize("Theater mode")),n}return t=u,(n=[{key:"buildCSSClass",value:function(){return"amp-theater-icon ".concat(o(c(u.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.toggleTheaterMode()}},{key:"toggleTheaterMode",value:function(){this.hasClass("amp-theater-exit-button")?(this.removeClass("amp-theater-exit-button"),this.player().trigger("exitTheaterMode"),this.controlText(this.htmlEncode(this.localize("Theater mode"))),this.el_.setAttribute("aria-label",this.localize("Theater mode"))):(this.addClass("amp-theater-exit-button"),this.player().trigger("enterTheaterMode"),this.controlText(this.htmlEncode(this.localize("Exit theater mode"))),this.el_.setAttribute("aria-label",this.localize("Exit theater mode")))}}])&&r(t.prototype,n),i&&r(t,i),u}(u);d.prototype.controlText_="Theater mode",videojs.registerComponent("TheaterModeButton",d);videojs.plugin("theaterModePlugin",(function(e){var t=this;e&&e.externalLink;t.on("loadedmetadata",(function(){var n=t.controlBar.children(),i=null,r=null;if(!t.controlBar.theaterModeButton)for(var o=0;o<n.length;o++){if(n[o].el()&&"amp-controlbaricons-right"===n[o].el().className){var a=t.controlBar.children()[o];r=this.controlBar.addChild("TheaterModeButton",e),i=a.el().insertBefore(r.el(),t.controlBar.fullscreenToggle.el())}i&&r&&(t.controlBar.theaterModeButton=r),videojs.getComponent("Player").prototype.toggleTheaterMode=function(){this.controlBar.theaterModeButton&&this.controlBar.theaterModeButton.toggleTheaterMode()}}}))}))},1097:function(e,t,n){var i=n(1098),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1098:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1099:function(e,t,n){"use strict";n.r(t);var i=n(867);n(941),n(846);var r={logo:!0,responsive:!0,live:!0,closedCaption:!0,quality:!0,volumeControl:!0,playToggle:!0,timeDisplay:!0,progressControl:!0,fullscreenToggle:!0,playbackSpeedButton:!0,moreOptionsButton:!0,outline:!0,contentTitle:!0};amp.StreamSkinPlugin=amp.extend(amp.getComponent("Component"),{init:function(e,t){new i.a(e,t,r).initPlugins()}}),amp.StreamSkinPlugin.prototype.dispose=function(){},amp.registerComponent("streamSkinPlugin",amp.StreamSkinPlugin),amp.getComponent("ControlBar").prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},TextTrackList:{},captionsButton:{},streamSkinPlugin:{},captionToggle:{},playbackSpeedButton:{},moreOptionsButton:{entries:["captionSubtitleButton","captionSettingsButton","qualityButton","reportIssueMenu"]}}},videojs.getComponent("SeekBar").prototype.options_={children:["loadProgressBar","mouseTimeTooltip","playProgressBar","seekHandle"],barName:"playProgressBar",handleName:"seekHandle"},videojs.getComponent("SeekHandle").prototype.options_={children:["seekHandleTimeTooltip"]}},1100:function(e,t,n){var i=n(1101),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1101:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1102:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1103:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var u=videojs.getComponent("Button");n(1104);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t.name="searchButton",(n=l.call(this,e,t)).controlTextEl_&&n.controlTextEl_.setAttribute("aria-live","off"),n}return t=u,(n=[{key:"buildCSSClass",value:function(){return"amp-search-icon ".concat(o(c(u.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.player().trigger("searchPlugin")}}])&&r(t.prototype,n),i&&r(t,i),u}(u);d.prototype.controlText_="Search Transcript",videojs.registerComponent("SearchButton",d);videojs.plugin("searchPlugin",(function(e){var t=this,n=function(){var n=t.controlBar.children();if(!t.controlBar.searchButton)for(var i=null,r=0;r<n.length;r++){if(n[r].el()&&"amp-controlbaricons-right"===n[r].el().className){var o=t.controlBar.children()[r];i=t.controlBar.addChild("SearchButton",e),i=o.el().insertBefore(i.el(),t.controlBar.captionToggle.el())}i&&(t.controlBar.searchButton=i)}};t.readyState()>=1?n():t.on("loadedmetadata",n)}))},1104:function(e,t,n){var i=n(1105),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1105:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1106:function(e,t,n){"use strict";n.r(t);var i=n(934);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var d=videojs.getComponent("Button");n(1107);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,r,c=l(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t.name="audioEnhancementButton",(n=c.call(this,e,t)).player().options_.defaultAudioTrackIsEnhanced?n.controlTextEl_.innerText=n.voiceEnhanceOffString():n.controlTextEl_.innerText=n.voiceEnhanceOnString(),n}return t=d,(n=[{key:"buildCSSClass",value:function(){return this.player().options_.defaultAudioTrackIsEnhanced?"amp-audio-enhancement ".concat(a(u(d.prototype),"buildCSSClass",this).call(this)):"amp-audio-enhancement-off ".concat(a(u(d.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.changeAudioTrack(),this.player().trigger(i.b.audioEnhancementButtonPressed)}},{key:"voiceEnhanceOnString",value:function(){return this.localize("Noise suppression")}},{key:"voiceEnhanceOffString",value:function(){return this.localize("Turn off noise suppression")}},{key:"changeIcon",value:function(){this.hasClass("amp-audio-enhancement-off")?(this.removeClass("amp-audio-enhancement-off"),this.addClass("amp-audio-enhancement"),this.player().controlBar.audioEnhancementModeButton.controlTextEl_.innerText=this.voiceEnhanceOffString(),this.player().trigger("audioEnhancementTurnedOn")):(this.removeClass("amp-audio-enhancement"),this.addClass("amp-audio-enhancement-off"),this.player().controlBar.audioEnhancementModeButton.controlTextEl_.innerText=this.voiceEnhanceOnString(),this.player().trigger("audioEnhancementTurnedOff"))}},{key:"changeAudioTrack",value:function(){if(this.player().currentAudioStreamList()){var e=this.player().currentAudioStreamList();try{var t=e.enabledIndices[0];e.switchIndex(1-t);try{this.player().hasStarted()&&this.player().restartCheckMediaWorkflowIfNeeded()}catch(e){console.log("Restarting media flow on switching audio track failed.")}}catch(e){return void this.player().trigger("failedToChangeAudioTrack",JSON.stringify({message:e.message,stack:e.stack}))}this.changeIcon()}}}])&&o(t.prototype,n),r&&o(t,r),d}(d);videojs.registerComponent("AudioEnhancementButton",p);videojs.plugin("audioEnhancementPlugin",(function(e){var t=this;t.on("loadedmetadata",(function(){var n=t.controlBar.children(),i=null,r=null;if(!t.controlBar.audioEnhancementModeButton)for(var o=0;o<n.length;o++)if(n[o].el()&&"amp-controlbaricons-right"===n[o].el().className){var a=n[o];(r=t.controlBar.addChild("AudioEnhancementButton",e))&&(i=a.el().insertBefore(r.el(),t.controlBar.captionToggle.el())),i&&r&&(t.controlBar.audioEnhancementModeButton=r),videojs.getComponent("Player").prototype.changeAudioTrack=function(){t.controlBar.audioEnhancementModeButton&&t.controlBar.audioEnhancementModeButton.changeAudioTrack()};break}}))}))},1107:function(e,t,n){var i=n(1108),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1108:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1109:function(e,t,n){"use strict";n.r(t);var i=n(988);n(1110),amp&&amp.plugin("timedMediaEventPlugin",i.a)},1110:function(e,t,n){var i=n(1111),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1111:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1112:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=amp.getComponent("Component");n(1113);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return r(this,u),(n=l.call(this,e,t)).isAudioOnly=t.isAudioOnly,n.audioOnlyCheck=n.checkIfAudioOnly.bind(c(n)),n.enableAudioOnlyOverlay=n.handleShowAudioOnlyOverlay.bind(c(n)),n.showOverlay=!1,setTimeout((function(){n.audioOnlyCheck()}),0),e.on("videoIsAudioOnly",n.enableAudioOnlyOverlay),d.apply(c(n),arguments),n}return t=u,(n=[{key:"handleShowAudioOnlyOverlay",value:function(){this.player_.removeElClass(this.el_,"vjs-hidden"),this.showOverlay=!0}},{key:"checkIfAudioOnly",value:function(){this.isAudioOnly&&this.player_.trigger("videoIsAudioOnly")}},{key:"createOverlay",value:function(){var e=amp.createEl("div",{className:"vjs-audio-only-overlay-container vjs-hidden",role:"region"}),t=amp.createEl("div",{className:"vjs-audio-only-overlay-icon"});return e.appendChild(t),e}},{key:"createEl",value:function(){return this.createOverlay()}}])&&o(t.prototype,n),i&&o(t,i),u}(d);d.registerComponent("audioOnlyOverlay",p)},1113:function(e,t,n){var i=n(1114),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1114:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1115:function(e,t){amp&&amp.plugin("audioOnlyOverlay",(function(e){var t=this;this.loadedPlugin=!1,this.on("loadedmetadata",(function(){if(!t.loadedPlugin){t.loadedPlugin=!0;var n=new(amp.getComponent("audioOnlyOverlay"))(t,e);t.playerElement().appendChild(n.el_)}}))}))},1116:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=amp.getComponent("Component");n(1117);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return r(this,u),(n=l.call(this,e,t)).overlayTitle=e.localize("Playing audio only"),n.overlayMessage=e.localize("Go here to change this setting"),n.overlayButtonText=e.localize("Turn on video"),n.overlayQuality="Quality",n.enableAudioOnlyMode=n.handleShowAudioOnlyOverlay.bind(c(n)),n.disableAudioOnlyMode=n.handleHideAudioOnlyOverlay.bind(c(n)),n.handleClick=n.clickHandler.bind(c(n)),n.showOverlay=!1,e.on("videoStreamDisabled",n.enableAudioOnlyMode),e.on("videoStreamEnabled",n.disableAudioOnlyMode),e.on("play",n.showContainer.bind(c(n))),d.apply(c(n),arguments),n}return t=u,(n=[{key:"showContainer",value:function(){this.showOverlay&&this.player_.removeElClass(this.el_,"vjs-hidden")}},{key:"handleShowAudioOnlyOverlay",value:function(){this.showOverlay=!0}},{key:"handleHideAudioOnlyOverlay",value:function(){this.showOverlay=!1,this.player_.addElClass(this.el_,"vjs-hidden");var e=this.player_.el_.children;for(var t in e)if("vjs-audio-only-mode-overlay-container"===e[t].className.split(" ")[0]){e[t];break}}},{key:"clickHandler",value:function(){this.player_.enableVideo(),this.player_.trigger("videoStreamEnabled")}},{key:"createOverlay",value:function(){var e=this,t=amp.createEl("div",{className:"vjs-audio-only-mode-overlay-container vjs-hidden",role:"region"}),n=amp.createEl("div",{className:"vjs-audio-only-mode-overlay-icon"});n.setAttribute("aria-hidden","true");var i=amp.createEl("div",{className:"vjs-audio-only-overlay-title",innerHTML:this.overlayTitle,id:"audio-only-mode-overlay-title"});i.setAttribute("aria-label",this.overlayTitle+".");var r=amp.createEl("div",{id:"audio-only-mode-overlay-message-container",className:"vjs-audio-only-overlay-message",role:"region"}),o=amp.createEl("span",{innerHTML:this.overlayMessage+": "});o.setAttribute("aria-hidden","true");var a=amp.createEl("span",{className:"vjs-audio-only-overlay-settings-icon",innerHTML:" > "+this.overlayQuality});a.setAttribute("aria-hidden","true"),r.appendChild(o),r.appendChild(a),r.setAttribute("aria-label",this.overlayMessage+". "+this.player_.localize("Settings")+", "+this.player_.localize("Quality")+". ");var s=amp.createEl("button",{id:"aria-only-mode-overlay-button",className:"stream-btn vjs-audio-only-overlay-button",role:"button",innerHTML:this.overlayButtonText,onclick:function(){e.handleClick()}});return s.setAttribute("aria-label",this.overlayButtonText),s.setAttribute("aria-labelledby","audio-only-mode-overlay-title audio-only-mode-overlay-message-container aria-only-mode-overlay-button"),t.appendChild(n),t.appendChild(i),t.appendChild(r),t.appendChild(s),t}},{key:"createEl",value:function(){return this.createOverlay()}}])&&o(t.prototype,n),i&&o(t,i),u}(d);d.registerComponent("audioOnlyModeOverlay",p)},1117:function(e,t,n){var i=n(1118),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1118:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1119:function(e,t){amp&&amp.plugin("audioOnlyModeOverlay",(function(e){var t=this;this.loadedAudioOnlyModePlugin=!1,this.on("loadedmetadata",(function(){if(!t.loadedAudioOnlyModePlugin){t.loadedAudioOnlyModePlugin=!0;var n=new(amp.getComponent("audioOnlyModeOverlay"))(t,e);t.playerElement().appendChild(n.el_)}}))}))},1120:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=amp.getComponent("Component");n(1121);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return r(this,u),(n=l.call(this,e,t)).messageBarTitle=e.localize("Poor network"),n.messageBarMessage=e.localize("Try playing audio only for better quality"),n.messageBarButtonText=e.localize("Audio only"),n.enableMessageBar=n.handleShowAudioOnlyMessageBar.bind(c(n)),n.disableMessageBar=n.handleHideAudioOnlyMessageBar.bind(c(n)),n.handleClick=n.clickHandler.bind(c(n)),e.on("showAudioOnlyMessageBar",n.enableMessageBar),e.on("videoStreamDisabled",n.disableMessageBar),d.apply(c(n),arguments),n}return t=u,(n=[{key:"handleShowAudioOnlyMessageBar",value:function(){this.player_.removeElClass(this.el_,"vjs-hidden"),document.getElementById("audio-only-message-bar-button").focus(),window.dispatchEvent(this.createCustomEvent("audioOnlyMessageBarDisplayed"))}},{key:"handleHideAudioOnlyMessageBar",value:function(){this.player_.addElClass(this.el_,"vjs-hidden"),window.dispatchEvent(this.createCustomEvent("audioOnlyMessageBarClosed"))}},{key:"clickHandler",value:function(){this.player_.disableVideo(),this.player_.trigger("videoStreamDisabled"),this.disableMessageBar()}},{key:"createCustomEvent",value:function(e){if(window.CustomEvent&&"function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,{}),t}},{key:"createMessageBar",value:function(){var e=this,t=amp.createEl("div",{className:"vjs-audio-only-message-bar-container vjs-hidden",role:"alert"}),n=amp.createEl("div",{className:"vjs-audio-only-message-bar-left",role:"region"}),i=amp.createEl("div",{className:"vjs-audio-only-message-bar-right"}),r=amp.createEl("div",{className:"vjs-audio-only-message-bar-icon"});r.setAttribute("aria-hidden","true");var o=amp.createEl("div",{className:"vjs-audio-only-message-bar-title",innerHTML:this.messageBarTitle+"."});o.setAttribute("aria-hidden","true");var a=amp.createEl("span",{className:"vjs-audio-only-message-bar-message",innerHTML:this.messageBarMessage+"."});a.setAttribute("aria-hidden","true"),n.appendChild(r),n.appendChild(o),n.appendChild(a),n.setAttribute("aria-label",this.messageBarTitle+". "+this.messageBarMessage);var s=amp.createEl("button",{id:"audio-only-message-bar-button",className:"stream-btn vjs-audio-only-message-bar-button",role:"button",innerHTML:this.messageBarButtonText,onclick:function(){e.handleClick()}}),l=amp.createEl("button",{className:"vjs-audio-only-message-bar-close-icon",tabIndex:0,onclick:function(){e.disableMessageBar()}});return l.setAttribute("aria-label",this.player_.localize("Close")),i.appendChild(s),i.appendChild(l),t.appendChild(n),t.appendChild(i),t}},{key:"createEl",value:function(){return this.createMessageBar()}}])&&o(t.prototype,n),i&&o(t,i),u}(d);d.registerComponent("audioOnlyMessageBar",p)},1121:function(e,t,n){var i=n(1122),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1122:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1123:function(e,t){amp&&amp.plugin("audioOnlyMessageBar",(function(e){var t=this;this.loadedMessageBarPlugin=!1,this.on("loadedmetadata",(function(){if(!t.loadedMessageBarPlugin){t.loadedMessageBarPlugin=!0;var n=new(amp.getComponent("audioOnlyMessageBar"))(t,e);t.playerElement().appendChild(n.el_)}}))}))},1124:function(e,t,n){var i=n(1125),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1125:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1126:function(e,t,n){var i=n(1127),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1127:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1128:function(e,t,n){var i=n(1129),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},1129:function(e,t,n){(t=n(498)(!1)).push([e.i,"",""]),e.exports=t},1130:function(e,t,n){"use strict";n.r(t);var i=n(867);n(941),n(846);var r={logo:!1,responsive:!0,live:!1,closedCaption:!0,quality:!0,volumeControl:!0,playToggle:!0,timeDisplay:!0,progressControl:!0,fullscreenToggle:!0,playbackSpeedButton:!0,moreOptionsButton:!0,outline:!0,contentTitle:!0,skipForward:!0,skipBack:!0};amp.StreamSkinPlugin=amp.extend(amp.getComponent("Component"),{init:function(e,t){new i.a(e,t,r).initPlugins()}}),amp.StreamSkinPlugin.prototype.dispose=function(){},amp.registerComponent("streamSkinPlugin",amp.StreamSkinPlugin),amp.getComponent("ControlBar").prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},TextTrackList:{},captionsButton:{},streamSkinPlugin:{},captionToggle:{},playbackSpeedButton:{},moreOptionsButton:{entries:["captionSubtitleButton","captionSettingsButton","qualityButton","reportIssueMenu"]}}},videojs.getComponent("SeekBar").prototype.options_={children:["loadProgressBar","mouseTimeTooltip","playProgressBar","seekHandle"],barName:"playProgressBar",handleName:"seekHandle"},videojs.getComponent("SeekHandle").prototype.options_={children:["seekHandleTimeTooltip"]}},1131:function(e,t,n){"use strict";n.r(t);var i=n(867);n(846);var r={logo:!1,responsive:!1,live:!1,closedCaption:!1,quality:!1,volumeControl:!0,playToggle:!1,timeDisplay:!0,progressControl:!0,fullscreenToggle:!1,playbackSpeedButton:!1,moreOptionsButton:!1,outline:!1,contentTitle:!1,skipForward:!1,skipBack:!1};amp.UiControlBar=amp.extend(amp.getComponent("Component"),{init:function(e,t){new i.a(e,t,r).initPlugins()}}),amp.UiControlBar.prototype.dispose=function(){},amp.registerComponent("uiControlBar",amp.UiControlBar),amp.getComponent("ControlBar").prototype.options_={loadEvent:"play",children:{currentTimeDisplay:{},timeDivider:{},durationDisplay:{},progressControl:{},uiControlBar:{}}}},1457:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(942);function o(e){var t=e.split(":").reverse(),n=0;return t[0]&&(n+=parseInt(t[0],10)),t[1]&&(n+=60*parseInt(t[1],10)),t[2]&&(n+=60*parseInt(t[2],10)*60),n}var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.initialChapterName="Initial chapter",i.dispose=function(){i.player.removeEventListener(amp.eventName.timeupdate,i.timeUpdate),i.player.removeEventListener(amp.eventName.durationchange,i.durationChangeEvent),i.player.removeEventListener(amp.eventName.disposing,i.dispose)},i.timeUpdate=function(){var e=i.player.currentTime();i.videoEvents&&i.videoEvents.forEach((function(t){t.startTime<e?i.getMarkerById(t.id,i.markers).className="chaptering-plugin marker played":i.getMarkerById(t.id,i.markers).className="chaptering-plugin marker"}))},i.createMarker=function(e){var t=document.createElement("button"),n=i.player.duration()||i.totalDuration;if(n>0){t.className="chaptering-plugin marker",t.setAttribute("aria-label",i.player.htmlEncode((i.player.localize("Chapter")+" "+e.start+" "+e.eventData.title).trim())),t.setAttribute("marker-id",e.id?e.id:""),t.setAttribute("type","button"),t.addEventListener("keydown",(function(t){return i.markerKeyUp(t,e)})),t.addEventListener("click",(function(t){return i.onMarkerClick(t,e)})),t.addEventListener("mouseover",(function(){return i.showMarkerHoverForEvent(e,!0)})),t.addEventListener("mouseleave",(function(){return i.chapterMarkerMouseLeave()}));var r=e.startTime/n*2*i.seekBarPadding-i.seekBarPadding;t.style.left="calc("+e.startTime/n*100+"% - "+r+"px)",t.detachListeners=function(){t.removeEventListener("keydown",(function(t){return i.markerKeyUp(t,e)})),t.removeEventListener("click",(function(t){return i.onMarkerClick(t,e)})),t.removeEventListener("mouseover",(function(){return i.showMarkerHoverForEvent(e,!0)})),t.removeEventListener("mouseleave",(function(){return i.chapterMarkerMouseLeave()}))};var o=document.createElement("div");o.className="chaptering-plugin snap",o.setAttribute("marker-id",e.id?e.id:""),t.appendChild(o)}return t},i.createChapter=function(e){var t=document.createElement("div"),n=i.player.duration()||i.totalDuration;if(n>0){t.className="chaptering-plugin chapter",t.addEventListener("mousemove",(function(){return i.showMarkerHoverForEvent(e,!1)})),t.addEventListener("mouseover",(function(){return i.showMarkerHoverForEvent(e,!1)})),t.addEventListener("mouseleave",(function(){return i.hideMarkerHover()})),t.addEventListener("click",(function(t){return i.chapterMouseDown(t,e)}));var r=e.startTime/n;t.style.left=0===e.startTime?"0px":"calc("+100*r+"% - "+(2*r*i.seekBarPadding-i.seekBarPadding)+"px)";var o=n>e.endTime?(e.endTime-e.startTime)/n:(n-e.startTime)/n;t.style.width="calc("+100*o+"% - "+(2*o*i.seekBarPadding-(n>e.endTime&&0!==e.startTime?0:i.seekBarPadding))+"px)",t.detachListeners=function(){t.removeEventListener("mousemove",(function(){return i.showMarkerHoverForEvent(e,!1)})),t.removeEventListener("mouseover",(function(){return i.showMarkerHoverForEvent(e,!1)})),t.removeEventListener("mouseleave",(function(){return i.hideMarkerHover()})),t.removeEventListener("click",(function(t){return i.chapterMouseDown(t,e)}))}}return t},i.chapterMouseDown=function(e,t){if(i.ampTimeTooltipElement&&i.ampTimeTooltipElement.innerText){i.showMarkerHoverForEvent(t,!1);var n=o(i.ampTimeTooltipElement.innerText);i.player.currentTime(n);var r=e.target.getAttribute("marker-id");i.logChapterClicked(r||"",n,i.getClosestMarkerTimeTag(n),i.player.playerElement().offsetWidth)}},i.markerKeyUp=function(e,t){e.keyCode===r.a.Enter&&(e.preventDefault(),i.onMarkerClick(e,t))},i.onMarkerClick=function(e,t){i.player.currentTime(t.startTime);var n=e.target.getAttribute("marker-id");i.logChapterMarkerClicked(n||"",e.type,t.startTime)},i.seekBarPadding=6,i.initializeElement(n),i}return Object(i.d)(t,e),t.prototype.initializeElement=function(e){e&&(e&&e.chapteringCallbacks&&(this.logChapterClicked=e.chapteringCallbacks.logChapterClicked,this.logChapterMarkerClicked=e.chapteringCallbacks.logChapterMarkerClicked,this.logError=e.chapteringCallbacks.logError,this.perfStart=e.chapteringCallbacks.perfStart,this.perfEnd=e.chapteringCallbacks.perfEnd),(e.chapters||this.mediaEventArray)&&(this.ampTimeTooltipElement=this.player.playerElement().querySelector(".amp-time-tooltip"),this.ampTimeTooltipPointerElement=this.player.playerElement().querySelector(".amp-time-tooltip-pointer"),this.seekBarCursorElement=this.player.playerElement().querySelector(".vjs-mouse-display"),this.initialize(e.chapters,"Video player, contains chapters",e.videoDuration)))},t.prototype.addListeners=function(){var e=this;this.player.addEventListener(amp.eventName.timeupdate,this.timeUpdate),this.player.addEventListener(amp.eventName.durationchange,this.durationChangeEvent),this.player.addEventListener(amp.eventName.disposing,this.dispose);var t=this.player.playerElement().querySelector(".vjs-slider-handle");t&&(t.addEventListener("mouseover",(function(){return e.showMarkerHoverForSlider()})),t.addEventListener("mousemove",(function(){return e.showMarkerHoverForSlider()})),t.addEventListener("mouseleave",(function(){return e.hideMarkerHover()})),t.detachListeners=function(){t&&(t.removeEventListener("mouseover",(function(){return e.showMarkerHoverForSlider()})),t.removeEventListener("mousemove",(function(){return e.showMarkerHoverForSlider()})),t.removeEventListener("mouseleave",(function(){return e.hideMarkerHover()})))})},t.prototype.createElements=function(){e.prototype.createCallout.call(this,"chaptering-callout"),this.mediaElementMarkerCallout.appendChild(this.mediaElementMarkerContent),this.mediaElementMarkerCallout.appendChild(this.mediaElementMarkerCalloutMark)},t.prototype.appendElements=function(){this.getProgressSlider().appendChild(this.mediaElementMarkerCallout)},t.prototype.clearUIElements=function(){this.clearMarkers(this.markers),this.clearMarkers(this.chapters)},t.prototype.addUIElements=function(){try{if(this.mediaEventArray){this.perfStart("ChaptersAdded"),this.markers=this.addMarkers(this.mediaEventArray.timedEventArray,this.createMarker);var e=[];this.mediaEventArray.timedEventArray[0].startTime>0&&e.push(this.getInitialChapter(this.mediaEventArray.timedEventArray[0].startTime)),e.push.apply(e,this.mediaEventArray.timedEventArray),this.chapters=this.addMarkers(e,this.createChapter),this.perfEnd("ChaptersAdded")}}catch(e){this.logError(e.message,e.stack)}},t.prototype.showMarkerHoverForEvent=function(e,t){var n=this.getSeekBarBounds(),i=n[0],r=n[1],o=n[2],a=n[3];this.showMarkerHover(e,a,r-i,0===o?this.seekBarPadding:o,t)},t.prototype.showMarkerHoverForSlider=function(){var e,t=this.getSeekBarBounds(),n=t[0],i=t[1],r=t[2],a=t[3];if(this.ampTimeTooltipElement){e=o(this.ampTimeTooltipElement.innerText);var s=null;if(this.mediaEventArray){for(var l=0;l<this.mediaEventArray.timedEventArray.length&&!(this.mediaEventArray.timedEventArray[l].startTime>e);l++)s=this.mediaEventArray.timedEventArray[l];(s||this.mediaEventArray.timedEventArray.length>0)&&this.showMarkerHover(s||this.getInitialChapter(this.mediaEventArray.timedEventArray[0].startTime),a,i-n,0===r?this.seekBarPadding:r,!1)}}},t.prototype.showMarkerHover=function(e,t,n,i,r){this.perfStart("ChapteringCalloutShown");var o=e,a="";if(this.ampTimeTooltipElement&&this.ampTimeTooltipElement.innerText)if(r?(a=this.formatCalloutTime(e,this.ampTimeTooltipElement.innerText.length)+" ",this.seekBarCursorElement&&(this.seekBarCursorElement.style.display="none")):a=this.ampTimeTooltipElement.innerText+" ",""!==(a+=o&&o.eventData&&o.eventData.title||"")){var s=(this.ampTimeTooltipElement&&this.ampTimeTooltipElement.parentElement&&!r&&this.ampTimeTooltipElement.parentElement.style.left?parseInt(this.ampTimeTooltipElement.parentElement.style.left):e.startTime/t)+this.seekBarPadding;this.ampTimeTooltipElement&&(this.ampTimeTooltipElement.style.display="none"),this.ampTimeTooltipPointerElement&&(this.ampTimeTooltipPointerElement.style.display="none"),this.showCallout(n,i,a.trim(),s),this.perfEnd("ChapteringCalloutShown")}else this.perfEnd("ChapteringCalloutShown");else this.perfEnd("ChapteringCalloutShown")},t.prototype.chapterMarkerMouseLeave=function(){this.hideMarkerHover(),this.seekBarCursorElement&&(this.seekBarCursorElement.style.display="")},t.prototype.getInitialChapter=function(e){return{id:this.initialChapterName,startTime:0,endTime:e,type:"chapter"}},t.prototype.getClosestMarkerTimeTag=function(e){for(var t,n=0;n<this.videoEvents.length&&e>this.videoEvents[n].startTime;)n++;if(0==n)t=this.videoEvents[n].startTime;else if(n==this.videoEvents.length)t=this.videoEvents[n-1].startTime;else{t=e-this.videoEvents[n-1].startTime<this.videoEvents[n].startTime-e?this.videoEvents[n-1].startTime:this.videoEvents[n].startTime}return t},t.prototype.formatCalloutTime=function(e,t){if(!t)return e.start||"";var n=new Date(1e3*e.startTime),i=n.getUTCHours(),r=n.getUTCMinutes(),o=n.getSeconds(),a=i.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0");return a.substring(a.length-t)},t}(n(944).a);n(1124),amp&&amp.plugin("chapteringPlugin",(function(e){return e&&e.chapters&&new a(this,e),this}))},464:function(e,t,n){"use strict";function i(e){switch(n(1079),n(1081),n(1082),e.skinMode){case"FastEmbed":n(929),n(930),n(931),n(932),n(933),n(935),n(936),n(937),n(938),n(939),n(940),n(1093),n(1096),n(1099),n(1103),n(1106),n(1109),n(1112),n(1115),n(1116),n(1119),n(1120),n(1123),n(1457),n(945),n(946);break;case"FastEmbedLight":n(929),n(930),n(931),n(932),n(933),n(935),n(936),n(937),n(938),n(939),n(940),n(1130),n(945),n(946);break;case"OnePlayer":n(1131)}}n.r(t),n.d(t,"init",(function(){return i}))},498:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},499:function(e,t,n){"use strict";(function(e){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"==typeof window?e:window,r=i&&i.CSPSettings&&i.CSPSettings.nonce,o=function(){var e=i.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};e.runState||(e=n({},e,{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}}));e.registeredThemableStyles||(e=n({},e,{registeredThemableStyles:[]}));return i.__themeState__=e,e}(),a=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,s=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()};function l(e){var t=s();e();var n=s();o.perf.duration+=n-t}function c(){l((function(){var e=o.runState.buffer.slice();o.runState.buffer=[];var t=[].concat.apply([],e);t.length>0&&u(t)}))}function u(e,t){o.loadStyles?o.loadStyles(m(e).styleString,e):function(e){if("undefined"==typeof document)return;var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),i=m(e),a=i.styleString,s=i.themable;n.setAttribute("data-load-themed-styles","true"),r&&n.setAttribute("nonce",r);n.appendChild(document.createTextNode(a)),o.perf.count++,t.appendChild(n);var l=document.createEvent("HTMLEvents");l.initEvent("styleinsert",!0,!1),l.args={newStyle:n},document.dispatchEvent(l);var c={styleElement:n,themableStyle:e};s?o.registeredThemableStyles.push(c):o.registeredStyles.push(c)}(e)}function d(e){void 0===e&&(e=3),3!==e&&2!==e||(p(o.registeredStyles),o.registeredStyles=[]),3!==e&&1!==e||(p(o.registeredThemableStyles),o.registeredThemableStyles=[])}function p(e){e.forEach((function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)}))}function m(e){var t=o.theme,n=!1;return{styleString:(e||[]).map((function(e){var i=e.theme;if(i){n=!0;var r=t?t[i]:void 0,o=e.defaultValue||"inherit";return t&&!r&&console&&!(i in t)&&"undefined"!=typeof DEBUG&&DEBUG&&console.warn('Theming value not provided for "'+i+'". Falling back to "'+o+'".'),r||o}return e.rawString})).join(""),themable:n}}function h(e){var t=[];if(e){for(var n=0,i=void 0;i=a.exec(e);){var r=i.index;r>n&&t.push({rawString:e.substring(n,r)}),t.push({theme:i[1],defaultValue:i[2]}),n=a.lastIndex}t.push({rawString:e.substring(n)})}return t}t.loadStyles=function(e,t){void 0===t&&(t=!1),l((function(){var n=Array.isArray(e)?e:h(e),i=o.runState,r=i.mode,a=i.buffer,s=i.flushTimer;t||1===r?(a.push(n),s||(o.runState.flushTimer=setTimeout((function(){o.runState.flushTimer=0,c()}),0))):u(n)}))},t.configureLoadStyles=function(e){o.loadStyles=e},t.configureRunMode=function(e){o.runState.mode=e},t.flush=c,t.loadTheme=function(e){o.theme=e,function(){if(o.theme){for(var e=[],t=0,n=o.registeredThemableStyles;t<n.length;t++){var i=n[t];e.push(i.themableStyle)}e.length>0&&(d(1),u([].concat.apply([],e)))}}()},t.clearStyles=d,t.detokenize=function(e){return e&&(e=m(h(e)).styleString),e},t.splitStyles=h}).call(this,n(40))},846:function(e,t,n){var i=n(1102),r=n(499);"string"==typeof i&&(i=[[e.i,i]]);for(var o=0;o<i.length;o++)r.loadStyles(i[o][1],!1);i.locals&&(e.exports=i.locals)},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(0),r=function(e,t){this.ampPlayer=e,e.options_=e.options_||{},this.playerOptions=e.options_,this.skinOptions=t},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.setAutoHide=function(){var e=this;this.component=this.component||videojs.getComponent("VolumeControl");var t=this.component.handleMouseLeave;this.component.prototype.handleMouseLeave=function(){},this.ampPlayer.on("dispose",(function(){e.component.prototype.handleMouseLeave=t}))},t.prototype.setUpdateVolumeHandle=function(){var e=this;this.component=this.component||videojs.getComponent("VolumeControl");var t=this.component.prototype.updateVolumeHandle,n=this.ampPlayer.controlBar.volumeControl;this.component.prototype.updateVolumeHandle=function(){if(n.volumeBar.bar&&n.volumeBar.bar.el_){var e=parseFloat(n.volumeBar.bar.el_.style.width);n.volumeHandle.style.left=e-parseFloat(n.volumeHandle.offsetWidth)/2+"%",n.volumeHandle.innerHTML='<span class="vjs-control-text" aria-live="polite" style="z-index:16;left:-0.75em">'+e+"%</span>"}},n.popUp.contentEl_.style.overflow="visible",this.ampPlayer.on("dispose",(function(){e.component.prototype.updateVolumeHandle=t}))},t.prototype.closeOnMouseLeave=function(){for(var e=this,t=this.ampPlayer.controlBar.children(),n=0;n<t.length;n++){var i=t[n];i.el()&&"amp-controlbaricons-left"===i.el().className&&i.on("mouseleave",(function(){e.ampPlayer.controlBar.volumeControl.unpressButton()}))}},t.prototype.setStyleOnExpand=function(){var e,t=this.ampPlayer,n=t.controlBar.volumeControl.pressButton;t.controlBar.volumeControl.pressButton=function(){n.bind(this)(),clearTimeout(e),t.controlBar.addClass("vjs-control-bar-volume-expanded")};var i=t.controlBar.volumeControl.unpressButton;t.controlBar.volumeControl.unpressButton=function(){i.bind(this)(),clearTimeout(e),e=setTimeout((function(){t.controlBar.removeClass("vjs-control-bar-volume-expanded")}),250)}},t.prototype.expandVolumeControlOnFocus=function(){var e=this.ampPlayer;e.controlBar.volumeControl.ampVolumeMenuButton.on("focus",(function(){e.controlBar.volumeControl.pressButton()}))},t.prototype.setVolumeChangeHandler=function(){var e,t=this.ampPlayer;t.on("volumechange",(function(){("VIDEO"===document.activeElement.nodeName||document.activeElement.classList.contains("vjs-player"))&&t.one("keyup",(function(n){if("38"==n.keyCode||"40"==n.keyCode){var i="vjs-volume-update-fade",r=Math.round(10*t.volume())/10*100,o=t.localize("Volume")+" "+r+"%",a=document.getElementById("volume-update-text"),s=document.getElementById("volume-update-container");s&&a?(s.classList.contains(i)&&s.classList.remove(i),e&&clearTimeout(e)):((a=document.createElement("p")).id="volume-update-text",(s=document.createElement("div")).id="volume-update-container",s.appendChild(a),s.classList.add("vjs-volume-update"),t.playerElement().appendChild(s)),a.innerText=o,a.setAttribute("aria-label",t.htmlEncode(o)),e=setTimeout((function(){s.classList.add(i)}),2e3)}}))}))},t.prototype.setMuteToggle=function(){this.component=this.component||videojs.getComponent("VolumeControl"),this.component.prototype.handleFocusOnVolumeBar=function(){},this.component.prototype.handleMouseOver=function(){};var e=videojs.getComponent("MuteToggle"),t=this.ampPlayer;e.prototype.update=function(){t.addElClass(this.el_,"vjs-vol-0")},e.prototype.handleClick=function(){t.trigger("toggleControlTextAlert")},e.prototype.createControlTextEl=function(e){return e},this.component.prototype.options_={children:[{name:"controlTextAlert",messageInfo:this.skinOptions.playerOptions.IE11AudioDisabled}]}},t}(r),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.setPlayerFocusOnClick=function(){var e=this.ampPlayer;e.bigPlayButton.on("click",(function(){var t,n=e.playerElement();n&&(t=n.querySelector(".vjs-tech")),t&&t.focus()}))},t}(r),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.setOnPlayerMouseUpEvent=function(){var e=this.ampPlayer&&this.ampPlayer.playbackSpeedButton&&this.ampPlayer.playbackSpeedButton.el_;e&&document.activeElement.className!=e.className&&this.ampPlayer.playbackSpeedButton.unpressButton()},t}(r),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.IsAllowed=function(){var e=window.document.querySelector(".vjs-tech");return window.document.fullscreenEnabled||window.document.webkitFullscreenEnabled||window.document.mozFullScreenEnabled||window.document.msFullscreenEnabled||e&&e.webkitSupportsFullscreen},t.prototype.setHandlersWithoutTitle=function(){var e=this.ampPlayer,t=videojs.getComponent("FullscreenToggle");e.off("fullscreenchange",t.prototype.handleFullscreenChange);var n=e.controlBar.fullscreenToggle,i=e.localize("Non-Fullscreen"),r=e.localize("Fullscreen");e.isFullscreen()?n.el_.setAttribute("aria-label",i):n.el_.setAttribute("aria-label",r),e.on("fullscreenchange",(function(){e.isFullscreen()?(n.controlText(e.htmlEncode(i)),n.el_.setAttribute("aria-label",i)):(n.controlText(e.htmlEncode(r)),n.el_.setAttribute("aria-label",r))}))},t.prototype.setFullscreenDisabled=function(){var e=this.ampPlayer,t=e.controlBar.fullscreenToggle;t.el_.setAttribute("disabled",""),t.addClass("vjs-fullscreen-disabled"),t.controlText(e.htmlEncode(e.localize("Full screen not supported")))},t.prototype.onKeyPress=function(){var e=this.ampPlayer,t={};e.on("keydown",(function(n){t[n.which]=!0,t[18]&&t[13]&&(e.isFullscreen()?e.exitFullscreen():e.enterFullscreen())})),e.on("keyup",(function(e){t[e.which]=!1}))},t}(r),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.setPlayStateHandlerWithoutTitle=function(){var e=videojs.getComponent("PlayToggle"),t=this.ampPlayer;t.off("play",e.prototype.handlePlay),t.off("pause",e.prototype.handlePause);var n=t.controlBar.playToggle;t.on("play",(function(){n.removeClass("vjs-paused"),n.addClass("vjs-playing"),n.controlText(t.htmlEncode(t.localize("Pause")))})),t.on("pause",(function(){n.removeClass("vjs-playing"),n.addClass("vjs-paused"),n.controlText(t.htmlEncode(t.localize("Play")))}))},t}(r),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.setSeekHandleOnMouseEvent=function(){var e=this.ampPlayer,t=e.controlBar.progressControl.seekBar.seekHandle,n=function(e){if(null===e.toElement){var n=void 0;try{n=new MouseEvent("mouseup",{bubbles:!0,cancelable:!1})}catch(e){(n=document.createEvent("MouseEvent")).initEvent("mouseup",!0,!1)}t.el_.dispatchEvent(n)}};e.on("dispose",(function(){window.removeEventListener("mouseout",n)})),t.on("mousedown",(function(){window.addEventListener("mouseout",n)})),t.on("mouseup",(function(){window.removeEventListener("mouseout",n)}))},t.prototype.setAriaAttributeEvent=function(){var e=this,t=this.ampPlayer.currentTime();this.ampPlayer.controlBar.progressControl.seekBar.on("focus",(function(){var n=e.ampPlayer.currentTime();t!=n&&(e.updateAriaAttribute(),t=n)}))},t.prototype.getPercent=function(){var e=this.ampPlayer.duration(),t=0===e?0:this.ampPlayer.currentTime()/e;return t>=1?1:t},t.prototype.updateAriaAttribute=function(){var e=this.ampPlayer.controlBar.progressControl.seekBar.el_,t=this.ampPlayer.duration();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2));var n=new Date(0);n.setSeconds(this.ampPlayer.currentTime());var i=new Date(0);i.setSeconds(t);var r=this.ampPlayer.localize("{0} of {1}").replace("{0}",n.toISOString().substr(11,8)).replace("{1}",i.toISOString().substr(11,8));e.setAttribute("aria-valuetext",r)},t}(r),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.setLabelsAndText=function(){var e=this.ampPlayer;e.on("playingAtLiveDVREdge",(function(){e.controlBar.liveDisplay.controlText(e.htmlEncode(e.localize("Viewing live broadcast"))),e.controlBar.liveDisplay.el_.setAttribute("aria-label",e.htmlEncode(e.localize("Viewing live broadcast")))})),e.on("playingInDVR",(function(){e.controlBar.liveDisplay.controlText(e.htmlEncode(e.localize("Skip to live broadcast"))),e.controlBar.liveDisplay.el_.setAttribute("aria-label",e.htmlEncode(e.localize("Skip to live broadcast")))}))},t}(r),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.moveComponents=function(){var e=this.ampPlayer,t=e.getChild("moreOptionsDialog"),n=e.controlBar.getChild("controlBarIconsRight");t.el()&&n.el()&&e.controlBar.moreOptionsButton.el()&&n.el().insertBefore(t.el(),e.controlBar.moreOptionsButton.el())},t}(r),m=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.skinFlags=i,r.prepareSkinOptions=function(){for(var e={leftIcons:[],middleIcons:[],rightIcons:[],removeOtherIcons:!0},t=[[{name:"controlBarIcons",options:e},6]],n=0,i=Object.keys(r.skinFlags);n<i.length;n++){var o=i[n];if(r.skinFlags[o])switch(o){case"logo":var a=r.playerOptions.logo,s=!a||void 0===a.enabled||a.enabled,l=a&&a.opacity?a.opacity:.5,c=a&&a.targetUrl?a.targetUrl:null;t.push([{name:"logo",options:{enabled:s,opacity:l,targetUrl:c}},0]);break;case"responsive":t.push([{name:"responsive",options:{sizeClasses:r.playerOptions.sizeClasses||{}}},1]);break;case"live":e.leftIcons.push(["liveDisplay",3]),t.push([{name:"live",options:{controlText:"LIVE"}},2]);break;case"closedCaption":e.rightIcons.push(["captionToggle",0]),t.push([{name:"closedCaption",options:{menuTitle:"Closed Captioning"}},3]);break;case"quality":t.push([{name:"quality",options:{menuTitle:"Quality",selectedItem:0,audioOnlyMode:r.playerOptions.audioOnlyMode}},4]);break;case"volumeControl":t.push([{name:"ampVolumeMenuButton",options:{vertical:!1,hideVolumeBarOnInActivity:!1}},5]),e.leftIcons.push(["volumeControl",3]);break;case"playToggle":e.leftIcons.push(["playToggle",1]);break;case"timeDisplay":e.leftIcons.push(["currentTimeDisplay",4],["timeDivider",5],["durationDisplay",6],["remainingTimeDisplay",7]);break;case"progressControl":e.middleIcons.push("progressControl");break;case"fullscreenToggle":e.rightIcons.push(["fullscreenToggle",3]);break;case"playbackSpeedButton":!0===r.playerOptions.showPlaybackSpeedButton&&e.rightIcons.push(["playbackSpeedButton",1]);break;case"moreOptionsButton":e.rightIcons.push(["moreOptionsButton",2]);break;case"outline":t.push([{name:"outline",options:{displayOnMenuItems:!0}},7]);break;case"contentTitle":r.playerOptions&&r.playerOptions.title&&r.playerOptions.description&&t.push([{name:"contentTitle",options:{title:r.playerOptions.title||"",description:r.playerOptions.description||""}},8]);break;case"skipForward":e.leftIcons.push(["skipForwardButtonPlugin",2]),t.push([{name:"skipForwardButtonPlugin",options:{skipSeconds:10}},9]);break;case"skipBack":e.leftIcons.push(["skipBackButtonPlugin",0]),t.push([{name:"skipBackButtonPlugin",options:{skipSeconds:10}},10])}}var u=function(e){return e.sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))};return e.leftIcons=u(e.leftIcons),e.rightIcons=u(e.rightIcons),u(t)},r.initPlugins=function(){r.playerOptions.inactivityTimeout=2250;var e=r.prepareSkinOptions(),t=r.ampPlayer;e.forEach((function(e){t[e.name]&&t[e.name](e.options)})),r.bigPlayButton=new a(t,r.skinOptions),r.bigPlayButton.setPlayerFocusOnClick(),r.skinFlags.volumeControl&&(r.volumeControl=new o(t,r.skinOptions),r.isBrowserAudioDisabled()?r.volumeControl.setMuteToggle():(r.volumeControl.setAutoHide(),r.volumeControl.setVolumeChangeHandler(),t.on("loadedmetadata",(function(){r.volumeControl.setUpdateVolumeHandle(),r.volumeControl.closeOnMouseLeave(),r.volumeControl.setStyleOnExpand(),r.volumeControl.expandVolumeControlOnFocus(),r.setPreventPropagation("mousedown",t.controlBar.volumeControl),r.setPreventPropagation("keydown",t.controlBar.volumeControl.volumeBar)})))),r.skinFlags.playbackSpeedButton&&(r.playbackSpeedButton=new s(t,r.skinOptions),t.on("mouseup",(function(){r.playbackSpeedButton.setOnPlayerMouseUpEvent()}))),r.skinFlags.fullscreenToggle&&(r.fullscreenToggle=new l(t,r.skinOptions),t.on("loadedmetadata",(function(){r.fullscreenToggle.IsAllowed()?(r.fullscreenToggle.setHandlersWithoutTitle(),r.fullscreenToggle.onKeyPress()):r.fullscreenToggle.setFullscreenDisabled()}))),r.skinFlags.playToggle&&(r.playToggle=new c(t,r.skinOptions),t.on("loadedmetadata",(function(){r.playToggle.setPlayStateHandlerWithoutTitle()}))),r.skinFlags.progressControl&&(r.progressControl=new u(t,r.skinOptions),t.on("loadedmetadata",(function(){r.progressControl.setSeekHandleOnMouseEvent(),r.setPreventPropagation("mousedown",t.controlBar.progressControl),r.setPreventPropagation("touchstart",t.controlBar.progressControl),r.setPreventPropagation("keydown",t.controlBar.progressControl.seekBar),r.progressControl.setAriaAttributeEvent()}))),t.on("loadedmetadata",(function(){for(var e=t.controlBar.children(),n=0;n<e.length;n++)if(e[n].el()&&-1!==e[n].el().className.indexOf("amp-controlbaricons"))for(var i=e[n].children(),o=function(e){var t=i[e];"volumeControl"===t.name_&&t.ampVolumeMenuButton.controlTextEl_?t.ampVolumeMenuButton.controlTextEl_.setAttribute("aria-live","off"):t.controlTextEl_&&t.controlTextEl_.setAttribute("aria-live","off"),"progressControl"===t.name_&&t.children().length>0&&(t=t.children()[0]),t.el_.removeAttribute("title"),t.on("focus",(function(){r.clearOtherMenus(t)}))},a=0;a<i.length;a++)o(a)})),r.skinFlags.live&&(r.liveToggle=new d(t,r.skinOptions),t.on("loadedmetadata",(function(){r.liveToggle.setLabelsAndText()}))),r.skinFlags.moreOptionsButton&&(r.moreOptionsButton=new p(t,r.skinOptions),t.on("loadedmetadata",(function(){r.moreOptionsButton.moveComponents()})),t.on("canplaythrough",(function(){t.moreOptionsButton.update()}))),r.skinFlags.closedCaption&&t.on("canplaythrough",(function(){t.captionToggle.update()}))},r}return Object(i.d)(t,e),t.prototype.clearOtherMenus=function(e){for(var t=this.ampPlayer.controlBar.children(),n=0;n<t.length;n++)if(t[n].el()&&-1!==t[n].el().className.indexOf("amp-controlbaricons"))for(var i=t[n].children(),r=0;r<i.length;r++)i[r]!==e&&i[r].unpressButton&&i[r].unpressButton()},t.prototype.setPreventPropagation=function(e,t){"keydown"===e?t.el_.addEventListener("keydown",(function(e){switch(e.which){case 37:t.stepBack(),e.stopPropagation();break;case 39:t.stepForward(),e.stopPropagation()}})):"mousedown"===e&&t.el_.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()}))},t.prototype.isBrowserAudioDisabled=function(){try{return(new Audio).muted}catch(e){return!0}},t}(r)},929:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=videojs.getComponent("Component"),c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(l,e);var t,n,a,s=o(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t.track={kind:t.kind,player:e,label:"Off",default:!1,mode:"disabled"},t.selectable=!0,(n=s.call(this,e,t)).selected(!0),n}return t=l,(n=[{key:"handleTracksChange",value:function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++)if("showing"===t[i].mode){n=!1;break}this.selected(n)}}])&&i(t.prototype,n),a&&i(t,a),l}(videojs.getComponent("TextTrackMenuItem"));l.registerComponent("OffCaptionSubtitleMenuItem",c)},930:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1083);var v=videojs.getComponent("Component"),y=function(e){u(n,e);var t=p(n);function n(e,i){var r;return a(this,n),(r=t.call(this,e,i)).buttonText=r.htmlEncode(r.localize("Captions / Subtitles settings")),e.on("loadedmetadata",(function(){var e=r.player_.textTracks();e&&e.length&&!videojs.browser.IS_IOS||r.hide()})),e.on("closedCaptionsUrlLoaded",(function(){var e=r.player_.textTracks();e&&e.length&&!videojs.browser.IS_IOS?r.show():r.hide()})),r}return l(n,[{key:"buildCSSClass",value:function(){return"amp-captions-settings-button ".concat(c(f(n.prototype),"buildCSSClass",this).call(this))}},{key:"createMenu",value:function(){var e=videojs.createEl("ul",{className:"vjs-menu-content"});e.setAttribute("role","menu");var t=videojs.createEl("div",{className:"vjs-menu",tabindex:-1});t.appendChild(e);var n=new v(this.player_,{el:t});n.focus=function(){},n.contentEl_=e;var i=new v(this.player_,{el:videojs.createEl("li",{className:"amp-menu-header dialog-header",innerHTML:this.htmlEncode(this.localize("Captions / Subtitles settings")),tabindex:-1})});return i.on("keydown",(function(e){27===e.which&&e.stopImmediatePropagation()})),n.addChild(i),n.addChild(new g(this.player_)),n.on("click",(function(e){e.stopImmediatePropagation()})),n}}]),n}(videojs.getComponent("MenuButton"));v.registerComponent("CaptionSettingsButton",y);var g=function(e){u(n,e);var t=p(n);function n(e,i){var r;a(this,n),(r=t.call(this,e,i)).addClass("amp-non-clickable-element"),r.isEmbeddedTrackSelected=!1,r.userPrincipalSettingsWeb=null;var o=r.textTrackSelected.bind(h(r)),s=r.dispose.bind(h(r));return r.defaultSettings={bgOpacity:"0.8",fontPercent:"0.75",textColorValue:"whiteBlack"},e.on("receivedUserPrincipalSettings",(function(e,t){t.userPrincipalSettings&&(r.userPrincipalSettingsWeb=t.userPrincipalSettings.web,r.userSettingsPresent()&&r.updateTextTrackUserSettings(r.userPrincipalSettingsWeb))})),e.on("textTrackSelected",o),e.on("loadedmetadata",(function(){r.show(),r.player_.textTrackSettings=h(r);var t=function(t){this.setValues(this.defaultSettings),this.createAndAlertScreenReader(e.playerElement(),this.localize("All settings have been reverted to their default states")),this.updateDisplay()},n=function(e){this.updateTextColorText(),this.updateDisplay()};r.userSettingsPresent()?r.updateTextTrackUserSettings(r.userPrincipalSettingsWeb):t.call(h(r)),r.options_.persistTextTrackSettings&&r.restoreSettings(),r.$(".amp-captions-background-transparency").addEventListener("click",function(e){var t="true"===e.target.getAttribute("aria-pressed");this.updateBgTransparencyToggle(!t),this.updateDisplay()}.bind(h(r))),Array.prototype.slice.call(r.$$(".amp-font-size-group input")).forEach((function(e){e.addEventListener("click",r.updateDisplay.bind(h(r)))})),Array.prototype.slice.call(r.$$(".amp-font-color-group input")).forEach((function(e){e.addEventListener("click",n.bind(h(r)))})),r.$(".amp-caption-settings-reset").addEventListener("click",t.bind(h(r))),r.on("keydown",r.handleKeyPress.bind(h(r)))})),e.on(amp.eventName.disposing,s),r}return l(n,[{key:"userSettingsPresent",value:function(){return this.userPrincipalSettingsWeb&&this.userPrincipalSettingsWeb.playbackSettings&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings.backgroundOpacity&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings.fontPercent&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings.textColorValue}},{key:"updateTextTrackUserSettings",value:function(e){var t=e.playbackSettings.textTrackSettings,n=t.backgroundOpacity,i=t.fontPercent,r=t.textColorValue;this.setUserTextTrackSettings(n,i,r)}},{key:"setUserTextTrackSettings",value:function(e,t,n){this.setValues({bgOpacity:e,fontPercent:t,textColorValue:n}),this.updateDisplay()}},{key:"textTrackSelected",value:function(e,t){this.isEmbeddedTrackSelected=t.hasEmbeddedCaptions}},{key:"dispose",value:function(){this.player_.off("textTrackSelected",this.textTrackSelected),this.player_.off("loadedmetadata")}},{key:"createEl",value:function(){return c(f(n.prototype),"createEl",this).call(this,"li",{className:"amp-caption-settings-menu",role:"presentation",innerHTML:b.call(this,this.id_),tabIndex:-1},{})}},{key:"handleKeyPress",value:function(e){if(27===e.which)e.preventDefault(),e.stopPropagation(),this.player_.moreOptionsButton.hideDialog(!0);else if(9===e.which){var t=this.$$(".outline-enabled-control");(e.target===t[t.length-1]&&!e.shiftKey||e.target===t[t.length-2]&&t[t.length-1].classList.contains("amp-caption-settings-reset-disabled")&&!e.shiftKey||(e.target===t[0]||e.target===t[1]||e.target===t[2])&&e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),document.getElementsByClassName("dialog-header")[0].focus())}}},{key:"updateDisplay",value:function(){var e=this.player_.getChild("textTrackDisplay");if(e){e.updateDisplay(),this.saveSettings();var t=this.getValues(),n=t.backgroundOpacity,i=t.fontPercent,r=t.textColorValue;this.player_.trigger("captionChange",{backgroundOpacity:n,fontPercent:i,textColorValue:r});var o=this.$(".amp-caption-settings-reset");this.defaultSettings.bgOpacity!==n||this.defaultSettings.fontPercent!==i||this.defaultSettings.textColorValue!==r?(o.removeAttribute("disabled"),o.classList.add("amp-caption-settings-reset-enabled"),o.classList.remove("amp-caption-settings-reset-disabled")):(o.setAttribute("disabled",!0),o.classList.add("amp-caption-settings-reset-disabled"),o.classList.remove("amp-caption-settings-reset-enabled"))}}},{key:"getValues",value:function(){var e,t,n=this.$('input[name="fontSize"]:checked'),i=n?n.value:0,r=this.$('input[name="fontColor"]:checked'),o=r?r.value:"";switch(o){case"blackWhite":e="#000000",t="#ffffff";break;case"blackLightGray":e="#302926",t="#dddbd3";break;case"whiteGray":e="#dddbd3",t="#302926";break;case"whiteBlack":default:e="#ffffff",t="#000000"}var a="true"===this.$(".amp-captions-background-transparency").getAttribute("aria-pressed")?"0":"0.8",s="",l="none";if(this.isEmbeddedTrackSelected)switch(s="left",i){case"1.50":l="0 0 0 10%";break;case"1.00":l="0 0 0 15%";break;default:l="0 0 0 20%"}var c=this.constructColor(t,a),u={backgroundOpacity:a,color:e,backgroundColor:t,fontPercent:i,textColorValue:o,justification:s,padding:l,textPadding:"0px 0px 1px 0px",boxShadow:"-5px 0 0 0 ".concat(c,", 5px 0 0 0 ").concat(c)};for(var d in u)(""===u[d]||"none"===u[d]||"fontPercent"===d&&1===u[d])&&delete u[d];return u}},{key:"setValues",value:function(e){var t=this.$('input[name="fontColor"][value="'+e.textColorValue+'"]');t&&(t.checked=!0),this.updateTextColorText();var n=this.$('input[name="fontSize"][value="'+e.fontPercent+'"]');n&&(n.checked=!0),this.updateBgTransparencyToggle("0"===e.bgOpacity)}},{key:"updateBgTransparencyToggle",value:function(e){this.$(".amp-captions-background-transparency").setAttribute("aria-pressed",e),this.$(".amp-background-transparency .toggle-value").innerHTML=e?this.htmlEncode(this.localize("On")):this.htmlEncode(this.localize("Off"))}},{key:"updateTextColorText",value:function(){var e="";switch(this.$('input[name="fontColor"]:checked').value){case"blackWhite":e=this.htmlEncode(this.localize("Reverse standard"));break;case"blackLightGray":e=this.htmlEncode(this.localize("Sepia"));break;case"whiteGray":e=this.htmlEncode(this.localize("Reverse sepia"));break;case"whiteBlack":default:e=this.htmlEncode(this.localize("Standard"))}this.$(".amp-caption-color-selected-text").innerText=this.localize(e)}},{key:"saveSettings",value:function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?window.localStorage.setItem("vjs-text-track-options",JSON.stringify(e)):window.localStorage.removeItem("vjs-text-track-options")}catch(e){log.warn(e)}}}},{key:"restoreSettings",value:function(){var e,t;try{var n=r(safeParseTuple(window.localStorage.getItem("vjs-text-track-options")),2);e=n[0],t=n[1],e&&log.error(e)}catch(e){log.warn(e)}t&&this.setValues(t)}},{key:"constructColor",value:function(e,t){var n=[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];return t?"rgba(".concat(n.join(","),",").concat(t,")"):"rgb(".concat(n.join(","),")")}},{key:"createAndAlertScreenReader",value:function(e,t){var n=document.getElementById("caption-settings-screen-reader");n?n.innerHTML=t:((n=document.createElement("div")).setAttribute("id","caption-settings-screen-reader"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.setAttribute("style","width: 1px; height: 1px; margin: -1px; position: absolute;  border: 0; padding: 0px; overflow: hidden; clip: rect(0 0 0 0); clip-path: polygon(0px 0px, 0px 0px, 0px 0px); -webkit-clip-path: polygon(0px 0px, 0px 0px, 0px 0px); white-space: nowrap, opacity: 0; font-size: 0;"),n.innerHTML=t,e.appendChild(n))}}]),n}(v);function b(e){return"\n        <div class='amp-caption-setting-container'>\n            <label class ='amp-caption-settings-label full-width-label' id='captions-text-size-".concat(e,"'>").concat(this.htmlEncode(this.localize("Text size: ")),"</label>\n            <div class ='amp-radio-button-group amp-font-size-group' role='radiogroup' aria-labelledby='captions-text-size-").concat(e,"'>\n                <label class ='amp-radio-button amp-font-size' role='radio' aria-labelledby='captions-text-size-small-").concat(e,"'>\n                    <input type='radio' name='fontSize' value='0.75' class ='outline-enabled-control' aria-setsize='3' aria-posinset='1' />\n                    <span id='captions-text-size-small-").concat(e,"'>").concat(this.htmlEncode(this.localize("Small")),"</span>\n                </label>\n                <label class ='amp-radio-button amp-font-size' role='radio' aria-labelledby='captions-text-size-medium-").concat(e,"'>\n                    <input type='radio' name='fontSize' value='1.00' class ='outline-enabled-control' aria-setsize='3' aria-posinset='2' />\n                    <span id='captions-text-size-medium-").concat(e,"'>").concat(this.htmlEncode(this.localize("Medium")),"</span>\n                </label>\n                <label class ='amp-radio-button amp-font-size' role='radio' aria-labelledby='captions-text-size-large-").concat(e,"'>\n                    <input type='radio' name='fontSize' value='1.50' class ='outline-enabled-control' aria-setsize='3' aria-posinset='3'/>\n                    <span id='captions-text-size-large-").concat(e,"'>").concat(this.htmlEncode(this.localize("Large")),"</span>\n                </label>\n            </div>\n\n            <label class ='amp-caption-settings-label full-width-label' for='captions-text-color-").concat(e,"'>").concat(this.htmlEncode(this.localize("Text color: ")),"\n                <span class ='amp-caption-color-selected-text'></span>\n            </label>\n            <div class ='amp-radio-button-group amp-font-color-group' id='caption-text-color-").concat(e,"' role='radiogroup' aria-label='").concat(this.localize("Text color: "),"'>\n                <label class ='amp-radio-button amp-font-color' role='radio'>\n                    <input type='radio' name='fontColor' value='whiteBlack' aria-setsize='4' aria-posinset='1' class ='amp-font-color-whiteBlack outline-enabled-control' aria-label='").concat(this.localize("Standard"),"'/>\n                    <span></span>\n                </label>\n                <label class ='amp-radio-button amp-font-color' role='radio'>\n                    <input type='radio' name='fontColor' value='whiteGray' aria-setsize='4' aria-posinset='2' class ='amp-font-color-whiteGray outline-enabled-control' aria-label='").concat(this.localize("Reverse sepia"),"'/>\n                    <span></span>\n                </label>\n                <label class ='amp-radio-button amp-font-color' role='radio'>\n                    <input type='radio' name='fontColor' value='blackLightGray' aria-setsize='4' aria-posinset='3' class ='amp-font-color-blackLightGray outline-enabled-control' aria-label='").concat(this.localize("Sepia"),"'/>\n                    <span></span>\n                </label>\n                <label class ='amp-radio-button amp-font-color' role='radio'>\n                    <input type='radio' name='fontColor' value='blackWhite' aria-setsize='4' aria-posinset='4' class ='amp-font-color-blackWhite outline-enabled-control' aria-label='").concat(this.localize("Reverse standard"),"'/>\n                    <span></span>\n                </label>\n            </div>\n\n            <div class ='amp-background-transparency amp-row-with-button'>\n                <label class ='amp-caption-settings-label' id='captions-background-transparency-label-").concat(e,"'>").concat(this.htmlEncode(this.localize("Background transparency")),'</label>\n                <div class=\'amp-toggle\'>\n                    <button type="button" role="button" aria-pressed="false" class =\'amp-captions-background-transparency outline-enabled-control\' aria-labelledby=\'captions-background-transparency-label-').concat(e,"'></button>\n                    <span class ='toggle-value'>").concat(this.htmlEncode(this.localize("Off")),"</span>\n                </div>\n            </div>\n            <div class ='amp-caption-settings-reset-container'>\n                <button type='button' class ='amp-caption-settings-reset amp-caption-settings-label outline-enabled-control'>").concat(this.htmlEncode(this.localize("Revert to default settings")),"</button>\n            </div>\n        </div>\n        ")}},931:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=videojs.getComponent("Component"),u=videojs.getComponent("TextTrackButton"),d=videojs.getComponent("OffCaptionSubtitleMenuItem"),p=videojs.getComponent("TextTrackMenuItem"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,s,u=a(m);function m(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(i=u.call(this,e,t,n)).buttonText=i.htmlEncode(i.localize("Captions / Subtitles")),i.textTrackChanged=!1,e.on("texttrackchange",(function(){i.textTrackChanged=!0})),i}return t=m,(n=[{key:"buildCSSClass",value:function(){return"vjs-captions-subtitles-button ".concat(r(l(m.prototype),"buildCSSClass",this).call(this))}},{key:"update",value:function(){r(l(m.prototype),"update",this).call(this);var e=this.player_.textTracks();e&&e.length?this.show():this.hide(),this.textTrackChanged&&(this.player_.trigger("textTrackUpdated"),this.textTrackChanged=!1)}},{key:"createItems",value:function(e){e=e||[];var t=new c(this.player_,{el:videojs.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize("Captions / Subtitles")),tabindex:-1})});e.push(t),e.push(new d(this.player_,{kind:this.kind_}));var n=this.player_.textTracks();if(!n)return e;for(var i=0;i<n.length;i++){var r=n[i];if("subtitles"===r.kind||"captions"===r.kind){var o=new p(this.player_,{selectable:!0,track:r});if("captions"===r.kind){o.el_.innerHTML=o.el_.innerHTML+" "+this.localize("CC");var a=o.options_.label;o.options_.label=a+this.localize(" [CC]"),o.el_.setAttribute("aria-label",a+this.localize(" [CC]"))}e.push(o)}}return e}}])&&i(t.prototype,n),s&&i(t,s),m}(u);m.prototype.kind_="texttracks",p.prototype.handleClick=function(e){var t=this.player_.textTracks();if(t){for(var n=0;n<t.length;n++){var i=t[n];if("subtitles"===i.kind||"captions"===i.kind||"texttracks"===i.kind){if(i===this.track){i.mode="showing",this.player_.trigger("captionChange",{preferredLanguage:i.language,showTextTrack:!0});var r=this.player_.options().cea708CaptionsSettings;if(r){var o=i.label&&i.label===r.label;this.player_.trigger("textTrackSelected",{hasEmbeddedCaptions:o})}}else i.mode="disabled";this.player_.captionToggle.update()}}"Off"===this.track.label&&this.player_.trigger("captionChange",{showTextTrack:!1})}},c.registerComponent("CaptionSubtitleButton",m)},932:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=videojs.getComponent("MenuItem"),m=videojs.getComponent("Component"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,c=l(p);function p(e,t,n,i){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(r=c.call(this,e,t)).settingsButton=i,r.dialog=r.settingsButton.dialog,r.mainMenu=r.settingsButton.menu,r.panel=r.dialog.getChild("settingsPanel"),r.panelChild=r.panel.getChild("settingsPanelChild"),r.panelChildEl=r.panelChild.el_,r.size=null,r.menuToLoad="mainmenu";var o=n.charAt(0).toUpperCase()+n.slice(1),a=videojs.getComponent(o);if(!a)throw new Error("Component ".concat(o," does not exist"));return r.subMenu=new a(r.player(),t,i,u(r)),r.appendSubMenuButton(),r.eventHandlers(),e.on(["loadedmetadata","textTrackUpdated"],(function(){r.build(),r.reset()})),r}return t=p,(n=[{key:"dispose",value:function(){a(d(p.prototype),"dispose",this).call(this),this.subMenu&&this.subMenu.dispose&&this.subMenu.dispose()}},{key:"eventHandlers",value:function(){this.subMenu.handleKeyPress=this.onKeyPress.bind(this),this.subMenuKeyPressHandler=this.onSubMenuKeyPress.bind(this),this.submenuClickHandler=this.onSubmenuClick.bind(this),this.transitionEndHandler=this.onTransitionEnd.bind(this)}},{key:"onKeyPress",value:function(e){32===e.which||13===e.which?(this.handleClick(e),this.settingsButton.currentMoreOptionState=this.settingsButton.moreOptionStates.submenu,this.settingsButton.submenu=this.settingsSubMenuEl_):27!==e.which&&9!==e.which||(this.settingsButton.hideDialog(!0),this.settingsButton.currentMoreOptionState=this.settingsButton.moreOptionStates.none)}},{key:"onSubMenuKeyPress",value:function(e){13===e.which&&this.onSubmenuClick(e),(27===e.which||9===e.which&&-1===e.target.className.indexOf("dialog-header"))&&(e.preventDefault(),e.stopImmediatePropagation(),this.settingsButton.hideDialog(!0),this.settingsButton.currentMoreOptionState=this.settingsButton.moreOptionStates.none)}},{key:"onSubmenuClick",value:function(e){var t=this;("tap"===e.type?e.target:e.currentTarget).classList.contains("vjs-back-button")?this.loadMainMenu():setTimeout((function(){t.update(e)}),0)}},{key:"createEl",value:function(){var e=videojs.createEl("li",{className:"vjs-menu-item"});return this.settingsSubMenuEl_=videojs.createEl("div",{className:"vjs-settings-sub-menu"}),e}},{key:"appendSubMenuButton",value:function(){this.settingsSubMenuTitleEl_=videojs.createEl("div",{className:"vjs-settings-sub-menu-title"},{"aria-hidden":"true","aria-live":"off"}),this.subMenu.el_.appendChild(this.settingsSubMenuTitleEl_),this.settingsSubMenuValueEl_=videojs.createEl("div",{className:"vjs-settings-sub-menu-value"},{"aria-hidden":"true","aria-live":"off"}),this.subMenu.controlTextEl_&&(this.subMenu.controlTextEl_.setAttribute("aria-hidden","true"),this.subMenu.controlTextEl_.setAttribute("aria-live","off")),this.subMenu.el_.appendChild(this.settingsSubMenuValueEl_),this.subMenu.removeClass("vjs-control"),this.subMenu.addClass("vjs-menu-item"),this.off(),this.el_=this.subMenu.el_,this.el_.tabIndex=-1,this.on(["tap","click"],this.handleClick)}},{key:"handleKeyPress",value:function(e){9==e.which?(e.preventDefault(),e.stopImmediatePropagation(),this.settingsButton.hideDialog()):a(d(p.prototype),"handleKeyPress",this).call(this,e)}},{key:"handleClick",value:function(e){var t=this;this.hasChildren()&&(e.preventDefault(),this.menuToLoad="submenu",videojs.removeClass(this.el_,"open"),a(d(p.prototype),"handleClick",this).call(this),this.mainMenu.el_.style.opacity="0",videojs.hasClass(this.settingsSubMenuEl_,"vjs-hidden")?(videojs.removeClass(this.settingsSubMenuEl_,"vjs-hidden"),setTimeout((function(){t.settingsSubMenuEl_.style.opacity="1",t.settingsSubMenuEl_.style.marginRight="0px",t.size=t.settingsButton.getComponentSize(t.settingsSubMenuEl_),t.settingsButton.setDialogSize(t.size)}),0),this.subMenu.menu.children_[0].el_.focus()):videojs.addClass(this.settingsSubMenuEl_,"vjs-hidden"))}},{key:"createBackButton",value:function(){for(var e,t,n=this.subMenu.menu.children_,i=!1,r=0;r<n.length;r++)if(n[r].name_&&"BackButton"===n[r].name_&&(i=!0),n[r].hasClass("amp-menu-header")){e=n[r];break}i||(e?(this.subMenu.menu.removeChild(e),(t=this.subMenu.menu.addChild("MenuItem",{},0)).el_.innerHTML='<span class="vjs-back-button-text">'+this.htmlEncode(this.localize(e.el_.innerHTML))+"</span>",e.hasClass("dialog-header")&&t.addClass("dialog-header"),e.dispose&&(e.dispose(),e=null)):((t=this.subMenu.menu.addChild("MenuItem",{},0)).el_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(this.localize("Back to main menu"))+"</span>",t.el_.innerText=this.htmlEncode(this.localize("Back to main menu"))),t.name_="BackButton",t.el_.setAttribute("aria-label",this.localize("Back to main menu")),t.addClass("vjs-back-button"))}},{key:"PrefixedEvent",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEvent",r=["webkit","moz","MS","o",""],o=0;o<r.length;o++)r[o]||(t=t.toLowerCase()),"addEvent"===i?e.addEventListener(r[o]+t,n,!1):"removeEvent"===i&&e.removeEventListener(r[o]+t,n,!1)}},{key:"onTransitionEnd",value:function(e){"margin-right"===e.propertyName&&"mainmenu"===this.menuToLoad&&(videojs.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0")}},{key:"reset",value:function(){videojs.addClass(this.settingsSubMenuEl_,"vjs-hidden"),this.settingsSubMenuEl_.style.opacity="0",this.setMargin()}},{key:"loadMainMenu",value:function(){var e=this;this.menuToLoad="mainmenu",this.mainMenu.show(),this.mainMenu.el_.style.opacity="0",this.settingsButton.setDialogSize([this.mainMenu.width,this.mainMenu.height]),this.settingsButton.currentMoreOptionState=this.settingsButton.moreOptionStates.mainmenu,setTimeout((function(){e.update(),e.setMargin(),e.mainMenu.el_.style.opacity="1",e.mainMenu.focus()}),0)}},{key:"build",value:function(){this.settingsSubMenuTitleEl_.innerHTML=this.htmlEncode(this.localize(this.subMenu.controlText_||this.subMenu.buttonText)),this.subMenu.el_.setAttribute("aria-label",this.htmlEncode(this.localize(this.subMenu.controlText_||this.subMenu.buttonText))),this.hasChildren()&&(videojs.addClass(this.subMenu.menu.el_,"vjs-settings-sub-menu"),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el_),this.panelChildEl.appendChild(this.settingsSubMenuEl_),this.update(),this.createBackButton(),this.player().controlBar[this.subMenu.name()]=this.subMenu,this.player().controlBar[this.subMenu.name()].setInitialValues&&this.player().controlBar[this.subMenu.name()].setInitialValues(),this.getSize(),this.bindClickEvents(),this.subMenu.hasClass("vjs-hidden")&&this.hide()),this.PrefixedEvent(this.settingsSubMenuEl_,"TransitionEnd",this.transitionEndHandler,"addEvent")}},{key:"hasChildren",value:function(){return this.subMenu.menu&&this.subMenu.menu.children_&&this.subMenu.menu.children_.length}},{key:"rebuild",value:function(){this.settingsSubMenuEl_.lastChild&&this.settingsSubMenuEl_.removeChild(this.settingsSubMenuEl_.lastChild),this.settingsSubMenuEl_.appendChild(this.subMenu.menu.el_),this.update(),this.createBackButton(),this.getSize(),this.bindClickEvents()}},{key:"update",value:function(e){var t=this,n=null;this.subMenu.name(),e&&"tap"===e.type?n=e.target:e&&(n=e.currentTarget),this.hasChildren()&&(this.subMenu.menu.children_.forEach((function(e){e instanceof m&&e.hasClass("vjs-selected")&&(t.settingsSubMenuValueEl_.innerHTML=t.localize(e.options_.label),t.subMenu.el_.setAttribute("aria-label",t.localize(t.settingsSubMenuTitleEl_.innerText)+", "+t.localize(e.options_.label)))})),n&&!n.classList.contains("vjs-back-button")&&this.settingsButton.hideDialog(!0))}},{key:"bindClickEvents",value:function(){var e=this;this.subMenu.menu.children().forEach((function(t){t instanceof m&&!t.hasClass("amp-non-clickable-element")&&(t.on(["tap","click"],e.submenuClickHandler),t.on("keydown",e.subMenuKeyPressHandler))}))}},{key:"getSize",value:function(){this.dialog.removeClass("vjs-hidden"),this.size=this.settingsButton.getComponentSize(this.settingsSubMenuEl_),this.setMargin(),this.dialog.addClass("vjs-hidden"),videojs.addClass(this.settingsSubMenuEl_,"vjs-hidden")}},{key:"setMargin",value:function(){if(this.hasChildren()){var e=i(this.size,1)[0];this.settingsSubMenuEl_.style.marginRight="-".concat(e,"px")}}},{key:"hideSubMenu",value:function(){this.el_&&videojs.hasClass(this.el_,"open")&&(videojs.addClass(this.settingsSubMenuEl_,"vjs-hidden"),videojs.removeClass(this.el_,"open"))}}])&&o(t.prototype,n),r&&o(t,r),p}(p);h.prototype.contentElType="button",videojs.registerComponent("MoreOptionsMenuItem",h)},933:function(e,t,n){"use strict";n.r(t);var i=n(934);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var r=v(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1085);var y=videojs.getComponent("Menu"),g=videojs.getComponent("Component"),b=videojs.getComponent("ClickableComponent"),S=videojs.getComponent("MoreOptionsMenuItem"),k=function(e){d(n,e);var t=m(n);function n(e,r){var o;return s(this,n),(o=t.call(this,e,r)).playerComponent=e,o.moreOptionStates={none:"none",mainmenu:"mainmenu",submenu:"submenu"},o.dialog=e.addChild("moreOptionsDialog"),o.dialogEl=o.dialog.el_,o.menu=null,o.submenu=null,o.panel=o.dialog.addChild("settingsPanel"),o.panelChild=o.panel.addChild("settingsPanelChild"),o.currentMoreOptionState=o.moreOptionStates.none,o.addClass("vjs-settings"),o.el_.setAttribute("aria-label",o.localize("Settings")),o.el_.setAttribute("data-return-focus","settingsPanel"),o.el_.setAttribute("aria-haspopup","true"),o.addSettingsItemHandler=o.onAddSettingsItem.bind(f(o)),o.disposeSettingsItemHandler=o.onDisposeSettingsItem.bind(f(o)),o.playerClickHandler=o.onPlayerClick.bind(f(o)),o.userInactiveHandler=o.onUserInactive.bind(f(o)),o.buildMenu(),o.bindEvents(),o.el_.setAttribute("role","button"),e.on("loadedmetadata",(function(){e.moreOptionsButton=f(o)})),e.on("canplaythrough",(function(){for(var t=o.$$(".vjs-menu-item",o.dialog),n=0;n<t.length;n++)t[n].classList.add("outline-enabled-control");var r=e.$$(".outline-enabled-control, .vjs-control"),a=function(t){"click"===t.type&&0!==t.clientX&&0!==t.clientY&&e.removeClass("outline-enabled")},s=function(t){e.addClass("outline-enabled")};e.addThrottledWindowResizeListener((function(){o.currentMoreOptionState!==o.moreOptionStates.none&&(o.currentMoreOptionState==o.moreOptionStates.submenu?o.setDialogSize(o.getComponentSize(o.submenu)):o.setDialogSize(o.getComponentSize(o.menu)))}),i.a.ThrottleLimit);for(var l=0;l<r.length;l++)r[l].addEventListener("click",a),r[l].addEventListener("keydown",s);e.on("dispose",(function(){for(var e=0;e<r.length;e++)r[e].removeEventListener("click",a),r[e].removeEventListener("keydown",s)})),o.menu.el_.addEventListener("keydown",(function(t){27!==t.which&&9!==t.which||(t.preventDefault(),t.stopPropagation(),e.moreOptionsButton.hideDialog(!0))}))})),o}return c(n,[{key:"onPlayerClick",value:function(e){e.target.classList.contains("vjs-settings")||this.dialog.hasClass("vjs-hidden")||this.hideDialog()}},{key:"onDisposeSettingsItem",value:function(e,t){if(void 0===t){for(var n=this.menu.children();n.length>0;)n[0].dispose(),this.menu.removeChild(n[0]);this.addClass("vjs-hidden")}else{var i=this.menu.getChild(t);i&&(i.dispose(),this.menu.removeChild(i))}this.hideDialog(),0===this.options_.entries.length&&this.addClass("vjs-hidden")}},{key:"onAddSettingsItem",value:function(e,t){var n=o(t,2),i=n[0],r=n[1];this.addMenuItem(i,r),this.removeClass("vjs-hidden")}},{key:"onUserInactive",value:function(){if(!this.playerComponent.paused()&&!this.dialog.hasClass("vjs-hidden")){var e;try{e=this.dialog.el_!==document.activeElement&&this.dialog.el_.contains(document.activeElement)}catch(t){e=!1}this.hideDialog(e)}}},{key:"bindEvents",value:function(){this.playerComponent.on("click",this.playerClickHandler),this.playerComponent.on("addsettingsitem",this.addSettingsItemHandler),this.playerComponent.on("disposesettingsitem",this.disposeSettingsItemHandler),this.playerComponent.on("userinactive",this.userInactiveHandler)}},{key:"buildCSSClass",value:function(){return"amp-more-options-icon ".concat(u(v(n.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.hasJustBeenClicked()||(this.dialog.hasClass("vjs-hidden")?(this.playerComponent.trigger("openPlayerSettingsMenu"),this.pressButton()):(this.unpressButton(),this.el_.focus()))}},{key:"handleKeyPress",value:function(e){9===e.which&&this.hideDialog(),u(v(n.prototype),"handleKeyPress",this).call(this,e)}},{key:"showDialog",value:function(){this.menu.el_.style.opacity="1",this.dialog.show(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.focus(),this.el_.setAttribute("aria-expanded","true"),this.addClass("vjs-no-tooltip"),this.buttonPressed_=!0,this.currentMoreOptionState=this.moreOptionStates.mainmenu,this.setAriaAttributes()}},{key:"setAriaAttributes",value:function(){this.menu.children().forEach((function(e){e.el_.setAttribute("aria-live","off")}))}},{key:"hideDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dialog.hide(),this.setDialogSize(this.getComponentSize(this.menu)),this.menu.el_.style.opacity="1",this.resetChildren(),this.el_.setAttribute("aria-expanded","false"),this.removeClass("vjs-no-tooltip"),this.buttonPressed_=!1,this.currentMoreOptionState=this.moreOptionStates.none,e&&this.el_.focus()}},{key:"pressButton",value:function(){this.showDialog()}},{key:"unpressButton",value:function(){this.hideDialog()}},{key:"hasJustBeenClicked",value:function(){return!1}},{key:"getComponentSize",value:function(e){var t=null,n=null;return e instanceof g?(t=e.el_.offsetWidth,n=e.el_.offsetHeight,e.width=t,e.height=n):(t=e.offsetWidth,n=e.offsetHeight),[t,n]}},{key:"setDialogSize",value:function(e){var t=o(e,2),n=t[0],i=t[1];if("number"==typeof i){var r=this.playerComponent.el_.offsetHeight-64;i>r?(i=r,n+=17,this.panel.el_.style.maxHeight="".concat(i,"px")):""!==this.panel.el_.style.maxHeight&&(this.panel.el_.style.maxHeight=""),this.dialogEl.style.width="".concat(n,"px"),this.dialogEl.style.height="".concat(i,"px")}}},{key:"buildMenu",value:function(){var e=this;this.menu=new y(this.player()),this.menu.addClass("vjs-main-menu");var t=this.options_.entries;if(0===t.length)return this.addClass("vjs-hidden"),void this.panelChild.addChild(this.menu);t.forEach((function(t){e.addMenuItem(t,e.options_)})),this.panelChild.addChild(this.menu)}},{key:"addMenuItem",value:function(e,t){t.name=e.charAt(0).toUpperCase()+e.slice(1);var n=new S(this.player(),t,e,this);return this.menu.addChild(n),this.player()["MoreOptions"+e]=n,n.on("click",videojs.bind(this,this.hideChildren)),n.on("click",(function(){videojs.hasClass(this.el_,"open")?videojs.removeClass(this.el_,"open"):(videojs.addClass(this.el_,"open"),this.settingsButton.currentMoreOptionState=this.settingsButton.moreOptionStates.submenu,this.settingsButton.submenu=this.settingsSubMenuEl_)})),n}},{key:"resetChildren",value:function(){this.menu.children().forEach((function(e){e.reset()}))}},{key:"hideChildren",value:function(){this.menu.children().forEach((function(e){e.hideSubMenu()}))}},{key:"update",value:function(){this.menu.children().forEach((function(e){e.update(),e.hasClass("vjs-hidden")&&e.el_.setAttribute("aria-hidden","true")}))}}]),n}(b),C=function(e){d(n,e);var t=m(n);function n(e,i){return s(this,n),t.call(this,e,i)}return c(n,[{key:"createEl",value:function(){return u(v(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-panel",innerHTML:"",tabIndex:-1})}}]),n}(g),E=function(e){d(n,e);var t=m(n);function n(e,i){return s(this,n),t.call(this,e,i)}return c(n,[{key:"createEl",value:function(){return u(v(n.prototype),"createEl",this).call(this,"div",{className:"vjs-settings-panel-child outline-enabled-control",innerHTML:"",tabIndex:-1})}}]),n}(g),T=function(e){d(n,e);var t=m(n);function n(e,i){var r;return s(this,n),(r=t.call(this,e,i)).hide(),r}return c(n,[{key:"createEl",value:function(){var e=this.id_,t="TTsettingsMoreOptionsDialogLabel-"+e,i="TTMoreOptionsDialogDescription-"+e;return u(v(n.prototype),"createEl",this).call(this,"div",{className:"vjs-moreoptions-dialog vjs-modal-overlay",innerHTML:"",tabIndex:-1},{role:"presentation","aria-labelledby":t,"aria-describedby":i})}}]),n}(g);k.prototype.controlText_="Settings",g.registerComponent("MoreOptionsButton",k),g.registerComponent("MoreOptionsDialog",T),g.registerComponent("SettingsPanel",C),g.registerComponent("SettingsPanelChild",E)},934:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i={ThrottleLimit:200},r={audioEnhancementButtonPressed:"audioEnhancementButtonPressed"}},935:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var d=videojs.getComponent("Button");n(1087);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,i,l=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t.name="captionToggle",(n=l.call(this,e,t)).buttonPressed=!1,n.lastSelectedTrack=null,n.userPrincipalSettingsWeb=null,n.el_.setAttribute("aria-relevant","removals"),e.on("embeddedcaptionsfound",(function(){n.update(),e.MoreOptionscaptionSubtitleButton&&e.MoreOptionscaptionSubtitleButton.rebuild(),n.setTextTracks()})),e.on("receivedUserPrincipalSettings",(function(e,t){t.userPrincipalSettings&&(n.userPrincipalSettingsWeb=t.userPrincipalSettings.web,n.setTextTracks())})),e.on("loadedmetadata",(function(){e.captionToggle=c(n),n.setTextTracks()})),n}return t=d,(n=[{key:"setTextTracks",value:function(){var e=this.getTextTracks();if(e&&e.length){var t=this.getPreferredLanguageTrack(e);if(t&&this.showTextTrack()){for(var n=0;n<e.length;n++)e[n].mode="disabled";t.mode="showing",this.player_.MoreOptionscaptionSubtitleButton.update(),this.updateTextTrackDisplayAccessibility(!0)}else this.updateTextTrackDisplayAccessibility(!1);this.show()}else this.hide()}},{key:"showTextTrack",value:function(){return this.userPrincipalSettingsWeb&&this.userPrincipalSettingsWeb.playbackSettings&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings.showTextTrack}},{key:"buildCSSClass",value:function(){return"amp-caption-toggle ".concat(o(u(d.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){var e=this.getTextTracks();if(e&&e.length){var t=this.getPreferredLanguageTrack(e)||this.getTrackToSelect(e);if(this.buttonPressed){this.buttonPressed=!1;for(var n=0;n<e.length;n++)e[n].mode="disabled";this.player_.moreOptionsButton.update(),this.setStrings(t,!1),this.el_.setAttribute("aria-pressed","false"),this.player().trigger("captionOff"),this.updateTextTrackDisplayAccessibility(!1)}else{this.buttonPressed=!0;var i=this.player_.options().cea708CaptionsSettings;if(i){var r=t.label&&t.label==i.label;this.player_.trigger("textTrackSelected",{hasEmbeddedCaptions:r})}t.mode="showing",this.lastSelectedTrack=t,this.setStrings(this.lastSelectedTrack,!0),this.el_.setAttribute("aria-pressed","true"),this.player_.moreOptionsButton.update(),this.player().trigger("captionOn"),this.updateTextTrackDisplayAccessibility(!0)}this.player_.trigger("captionChange",{showTextTrack:this.buttonPressed,preferredLanguage:t.language})}else this.hide()}},{key:"updateTextTrackDisplayAccessibility",value:function(e){var t=e?"assertive":"off";this.player_.textTrackDisplay&&this.player_.textTrackDisplay.el_.setAttribute("aria-live",t)}},{key:"formatPreferredLanguage",value:function(e){return e&&e.split("-")[0]}},{key:"getTextTracks",value:function(){var e=[],t=this.player_.textTracks();if(t)for(var n=0;n<t.length;n++)"subtitles"!==t[n].kind&&"captions"!==t[n].kind||e.push(t[n]);return e}},{key:"update",value:function(){var e=this.getTextTracks();if(e&&e.length){this.player().trigger("embeddedCaptionsShow");for(var t=0;t<e.length;t++)if("showing"===e[t].mode)return this.el_.setAttribute("aria-pressed","true"),this.buttonPressed=!0,this.lastSelectedTrack=e[t],void this.setStrings(this.lastSelectedTrack,!0);this.el_.setAttribute("aria-pressed","false");var n=this.getTrackToSelect(e);this.setStrings(n,!1),this.buttonPressed=!1,this.show()}else this.hide()}},{key:"getPreferredLanguageTrack",value:function(e){var t,n,i,r,o,a,s,l,c;if(this.userPrincipalSettingsWeb&&this.userPrincipalSettingsWeb.playbackSettings&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings&&this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings.preferredLanguage&&(t=this.userPrincipalSettingsWeb.playbackSettings.textTrackSettings.preferredLanguage),t)for(var u=0;u<e.length;u++)if(this.player_.isLive()){if("captions"===e[u].kind){if(t===e[u].language){o=e[u];break}this.formatPreferredLanguage(t)===this.formatPreferredLanguage(e[u].language)&&(c=e[u])}}else if(t===e[u].language){if("subtitles"===e[u].kind){n=e[u];break}"captions"===e[u].kind&&("Live"===e[u].label?o=e[u]:"Auto"===e[u].label?r=e[u]:i=e[u])}else this.formatPreferredLanguage(t)===this.formatPreferredLanguage(e[u].language)&&t===e[u].language&&("subtitles"===e[u].kind&&(a=e[u]),"captions"===e[u].kind&&("Live"===e[u].label?c=e[u]:"Auto"===e[u].label?l=e[u]:s=e[u]));return n||i||r||o||a||s||l||c}},{key:"getTrackToSelect",value:function(e){if(this.lastSelectedTrack)return this.lastSelectedTrack;for(var t,n=0;n<e.length;n++)if("captions"===e[n].kind){t=e[n];break}return t||(t=e[0]),t}},{key:"setStrings",value:function(e,t){var n="Captions",i="Captions are currently off, Caption toggle";"captions"!==e.kind||t?"captions"===e.kind&&t?(n="Turn off captions",i="Captions are currently on, Caption toggle"):"subtitles"!==e.kind||t?"subtitles"===e.kind&&t&&(n="Turn off subtitles",i="Subtitles are currently on, Subtitle toggle"):(n="Subtitles",i="Subtitles are currently off, Subtitle toggle"):(n="Captions",i="Captions are currently off, Caption toggle"),this.controlText(this.htmlEncode(this.localize(n))),this.el_.setAttribute("aria-label",this.localize(i))}}])&&r(t.prototype,n),i&&r(t,i),d}(d);p.prototype.controlText_="Subtitles/CC",videojs.registerComponent("CaptionToggle",p)},936:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component"),videojs.getComponent("Button");var u=videojs.getComponent("Menu"),d=videojs.getComponent("PlaybackRateMenuItem"),p=videojs.getComponent("PlaybackRateMenuButton"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,s,p=a(m);function m(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),t.name="playbackSpeedButton",t.playbackRates=[.5,1,1.2,1.5,1.8,2],t.title="Playback Speed",(n=p.call(this,e,t)).nonUserInitiatedRateChange=!0,n.initialPlaybackSpeed=1,n.el_.setAttribute("role","button"),e.on("loadedmetadata",(function(){e.playbackSpeedButton=l(n);try{var t=localStorage.getItem("ampPlaybackRate");t&&(n.initialPlaybackSpeed=t)}catch(t){e.trigger("localStorageAccessFail",t)}e.playbackRate(n.initialPlaybackSpeed),e.playbackSpeedButton.menu.el_.addEventListener("keydown",(function(t){27!==t.which&&9!==t.which||(t.preventDefault(),t.stopPropagation(),e.playbackSpeedButton.hideDialog())}))})),e.on("ratechange",(function(){var t=e.playbackRate(),n="amp-playbackspeed-"+(100*t).toString()+"x-icon";e.playbackSpeedButton.removeClass("amp-playbackspeed-50x-icon"),e.playbackSpeedButton.removeClass("amp-playbackspeed-100x-icon"),e.playbackSpeedButton.removeClass("amp-playbackspeed-120x-icon"),e.playbackSpeedButton.removeClass("amp-playbackspeed-150x-icon"),e.playbackSpeedButton.removeClass("amp-playbackspeed-180x-icon"),e.playbackSpeedButton.removeClass("amp-playbackspeed-200x-icon"),e.playbackSpeedButton.removeClass("amp-playbackspeed-control-normal"),e.playbackSpeedButton.removeClass("amp-playbackspeed-control-fast"),e.playbackSpeedButton.removeClass("amp-playbackspeed-control-slow"),e.playbackSpeedButton.addClass(n);var i,r=this.localize("".concat("Playback speed is ","{0}")).replace("{0}",t);e.playbackSpeedButton.el_.getAttribute("aria-label",r)&&(i=e.playbackSpeedButton.el_.getAttribute("aria-label",r).split("Playback speed is ")[1]),e.playbackSpeedButton.el_.setAttribute("aria-label",r);try{localStorage.setItem("ampPlaybackRate",e.playbackRate())}catch(t){e.trigger("localStorageAccessFail",t)}e.playbackSpeedButton.hideDialog(),this.nonUserInitiatedRateChange||e.trigger("changePlaybackSpeed",{oldSetting:i,newSetting:t})})),n}return t=m,(n=[{key:"hideDialog",value:function(){this.unpressButton(),this.el_.focus(),this.removeClass("vjs-no-tooltip")}},{key:"localizeDecimalNumber",value:function(e){return this.player_.options_&&this.player_.options_.language&&Number.prototype.toLocaleString?e.toLocaleString(this.player_.options_.language,{minimumFractionDigits:1}):e.toString()}},{key:"createMenu",value:function(){var e=new u(this.player_),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--){var i=new d(this.player_,{rate:t[n],selectable:!0,multiSelectable:!1});i.selected(!1),this.player_.playbackRate()===t[n]&&i.selected(!0);var r=(t[n]%1==0?t[n]:this.localizeDecimalNumber(t[n]))+"x";i.el_.innerHTML=r,e.addChild(i)}return e}},{key:"createEl",value:function(){var e=r(c(m.prototype),"createEl",this).call(this);return e.removeChild(e.lastChild),e}},{key:"buildCSSClass",value:function(){return"amp-playbackspeed-100x-icon ".concat(r(c(m.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.buttonPressed_?this.hideDialog():(this.pressButton(),this.nonUserInitiatedRateChange=!1,this.player_.playbackSpeedButton.addClass("vjs-no-tooltip"),this.player_.trigger("openPlaybackSpeedMenu"))}},{key:"update",value:function(){r(c(m.prototype),"update",this).call(this);var e=videojs.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(this.options_.title)),tabIndex:-1},{role:"presentation"});this.hideThreshold_+=1,this.menu.contentEl_.insertBefore(e,this.menu.contentEl_.childNodes[0])}}])&&i(t.prototype,n),s&&i(t,s),m}(p);m.prototype.controlText_="Playback Speed",videojs.registerComponent("PlaybackSpeedButton",m)},937:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=videojs.getComponent("MouseTimeDisplay"),u=videojs.getComponent("Component");n(1089);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,n,i,s=a(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=s.call(this,e,t)).pointerFloatPixels=void 0===t.pointerFloatPixels?12:t.pointerFloatPixels,n.tooltipPointer=videojs.createEl("span",{className:"amp-time-tooltip-pointer"}),n.el_.appendChild(n.tooltipPointer),n}return t=l,(n=[{key:"clampAmpTooltipPosition_",value:function(e){var t,n,i=parseFloat(window.getComputedStyle(this.player().el()).width),r=this.tooltipSpan.offsetWidth/2;if(e<r?(n=r-e,t=1):e>i-r?(n=r+e-i,t=-1):(n=0,t=1),this.tooltipSpan.style.left=Math.floor(n*t-r)+"px",this.tooltipPointer){var o=n>this.pointerFloatPixels?n-this.pointerFloatPixels:0,a=this.tooltipPointer.offsetWidth/2;this.tooltipPointer.style.left=Math.floor(o*t-a)+"px"}}}])&&r(t.prototype,n),i&&r(t,i),l}(c);u.registerComponent("MouseTimeTooltip",d)},938:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=videojs.getComponent("MouseTimeDisplay"),d=videojs.getComponent("Component");n(1091);var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=l.call(this,e,t)).tooltipPointer=videojs.createEl("span",{className:"amp-time-tooltip-pointer"}),n.el_.appendChild(n.tooltipPointer),n.updateTimerId=NaN,n.requestAnimationFrameSemaphore=0,n.player_.one("timeupdate",(function(){var e=new Date(0);e.setSeconds(n.player_.duration()),n.totalTime=e.toISOString().substr(14,5)})),n.player_.addEventListener("timeupdate",(function(){isNaN(n.updateTimerId)&&(n.updateTimerId=setTimeout((function(){n.player_&&n.update(n.player_.currentTime()),n.updateTimerId=NaN}),900))})),n.player_.addEventListener("seeked",(function(){n.update(n.player_.currentTime())})),requestAnimationFrame((function(){n.el_.parentElement.parentElement.addEventListener("focus",(function(){n.update(n.player_.currentTime())}))})),n}return t=u,(n=[{key:"update",value:function(e){o(c(u.prototype),"update",this).call(this,e,0),window.innerWidth<479&&(this.tooltipSpan.innerHTML="".concat(this.tooltipSpan.innerHTML,"&nbsp;/&nbsp;").concat(this.totalTime)),this.bumpPosition_()}},{key:"calcBumpAmount_",value:function(){var e=this.el_.offsetParent?this.el_.offsetParent.offsetLeft:0,t=this.tooltipSpan.offsetWidth,n=Math.ceil((t-12)/2),i=parseFloat(window.getComputedStyle(this.player().el()).width),r=Math.floor(n-e),o=Math.floor(e+12+n-i);return r>0?r+"px":o>0?-o+"px":""}},{key:"bumpPosition_",value:function(){var e=this,t=this.calcBumpAmount_();this.tooltipSpan.style.left=t,""===t||0!==this.requestAnimationFrameSemaphore||this.player_.paused()||(this.requestAnimationFrameSemaphore++,requestAnimationFrame((function(){e.requestAnimationFrameSemaphore--,e.bumpPosition_()})))}},{key:"createEl",value:function(){var e=o(c(u.prototype),"createEl",this).call(this);return e.classList.remove("vjs-mouse-display"),e.classList.add("vjs-mouse-display-seek-handle"),e}},{key:"handleMouseMove",value:function(){}},{key:"clampAmpTooltipPosition_",value:function(){}}])&&r(t.prototype,n),i&&r(t,i),u}(u);d.registerComponent("SeekHandleTimeTooltip",p)},939:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,e);var t,n,s,c=a(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=c.call(this,e,t)).buttonText=n.htmlEncode(n.localize("Report an issue")),n.buttonPressed=!1,n.lastSelectedTrack=null,n.trackList=[],n.on("keydown",n.onKeyPress),n}return t=u,(n=[{key:"buildCSSClass",value:function(){return"amp-caption-toggle ".concat(r(l(u.prototype),"buildCSSClass",this).call(this))}},{key:"handleClick",value:function(){this.player().isFullscreen()&&this.player().exitFullscreen(),this.player().trigger("reportIssue"),this.player().moreOptionsButton.hideDialog()}},{key:"onKeyPress",value:function(e){13!==e.which&&32!==e.which||this.handleClick()}},{key:"update",value:function(){r(l(u.prototype),"update",this).call(this),this.player().options_.reportIssueEnabled||this.hide()}}])&&i(t.prototype,n),s&&i(t,s),u}(videojs.getComponent("MenuButton"));videojs.registerComponent("ReportIssueMenu",c)},940:function(e,t){var n=videojs.getComponent("MenuButton");n.prototype.handleClick=function(){this.hasJustBeenClicked()||(this.clearOtherMenus(),this.buttonPressed_?this.unpressButton():this.pressButton())},n.prototype.handleMouseOver=function(){},n.prototype.handleMouseLeave=function(){}},941:function(e,t,n){n(1100);var i=amp.getComponent("Component"),r=amp.extend(i,{constructor:function(e,t){this.messageInfo=t.messageInfo,this.isHidden=!1,this.toggleAlert=this.handleToggle.bind(this),e.on("toggleControlTextAlert",this.toggleAlert),i.apply(this,arguments)},handleToggle:function(){this.isHidden?this.player_.removeElClass(this.el_,"vjs-hidden"):this.player_.addElClass(this.el_,"vjs-hidden"),this.isHidden=!this.isHidden},formatInnerText:function(e){if(e&&e.message){if("string"==typeof e)return e;if(e.url&&/\[\%\].+\[\%\]/.test(e.message)){var t=e.message.match(/\[\%\].+\[\%\]/)[0].replace(/\[\%\]/g,""),n="<a href="+e.url+">"+t+"</a>";return e.message.replace(/\[\%\].+\[\%\]/,n)}return e.message}return""},createEl:function(){return amp.createEl("span",{className:"vjs-control-text-alert",innerHTML:this.formatInnerText(this.messageInfo),role:"alert"})}});i.registerComponent("ControlTextAlert",r)},942:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Back=8]="Back",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Break=19]="Break",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e[e.Print=44]="Print",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Colon2=59]="Colon2",e[e.Equals2=61]="Equals2",e[e.Equals3=107]="Equals3",e[e.Minus2=109]="Minus2",e[e.Period=190]="Period",e[e.WindowsLeft=91]="WindowsLeft",e[e.WindowsRight=92]="WindowsRight",e[e.WindowsOpera=219]="WindowsOpera",e[e.Menu=93]="Menu",e[e.NumPad0=96]="NumPad0",e[e.NumPad1=97]="NumPad1",e[e.NumPad2=98]="NumPad2",e[e.NumPad3=99]="NumPad3",e[e.NumPad4=100]="NumPad4",e[e.NumPad5=101]="NumPad5",e[e.NumPad6=102]="NumPad6",e[e.NumPad7=103]="NumPad7",e[e.NumPad8=104]="NumPad8",e[e.NumPad9=105]="NumPad9",e[e.NumPadMultiply=106]="NumPadMultiply",e[e.NumPadPlus=107]="NumPadPlus",e[e.NumPadMinus=109]="NumPadMinus",e[e.NumPadDot=110]="NumPadDot",e[e.NumPadDivide=111]="NumPadDivide",e[e.Function1=112]="Function1",e[e.Function2=113]="Function2",e[e.Function3=114]="Function3",e[e.Function4=115]="Function4",e[e.Function5=116]="Function5",e[e.Function6=117]="Function6",e[e.Function7=118]="Function7",e[e.Function8=119]="Function8",e[e.Function9=120]="Function9",e[e.Function10=121]="Function10",e[e.Function11=122]="Function11",e[e.Function12=123]="Function12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Colon=186]="Colon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Minus=189]="Minus",e[e.ForwardSlash=191]="ForwardSlash",e[e.Tilde=192]="Tilde",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.Quote=222]="Quote"}(i||(i={}))},943:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=n(988),o=function(){function e(e){this.eventTypeCache={},this.setEventArray(e)}return e.prototype.setEventArray=function(e){this.timedEventArray=e.filter((function(e){return!e.hidden})).sort((function(e,t){return e.endTime-t.endTime})).map((function(e){return e.startTime=Math.floor(e.startTime),e.endTime=Math.floor(e.endTime),e})),this.overlap=this.timedEventArray.reduce((function(e,t){var n=e[""+t.endTime]||{itemArray:[]};return n.itemArray.push(t),e[""+t.endTime]=n,e}),{})},e.prototype.add=function(e){Array.isArray(e)||(e=[e]),this.setEventArray(Object(i.i)(this.timedEventArray,e))},e.prototype.getEventNearTimeCode=function(t,n,i){void 0===n&&(n=r.b);var o=i?this.filterEventsByType(i):[];if(0===(o||[]).length)return e.InvalidTimeEventEntry;var a=this.closestWithinTolerance(o,t,n);return Math.abs(a.endTime-t)<=n?a:e.InvalidTimeEventEntry},e.prototype.getNextNearbyEvent=function(t,n,i){void 0===n&&(n=r.b);var o=this.getEventNearTimeCode(t,n,i);return o.endTime>=t?o:e.InvalidTimeEventEntry},e.prototype.filterEventsByType=function(e){var t=e;if(e&&!Array.isArray(e)&&(t=[e]),!t||0===t.length)return this.timedEventArray;var n=t.join(",");return void 0===this.eventTypeCache[n]&&(this.eventTypeCache[n]=this.timedEventArray.filter((function(e){return t.some((function(t){return t===e.type}))}))),this.eventTypeCache[n]},e.prototype.getEventAtTimeCode=function(t){return this.getEventsAtTimeCode(t)[0]||e.InvalidTimeEventEntry},e.prototype.getEventsAtTimeCode=function(e){return(this.overlap[""+e]||{itemArray:[]}).itemArray},e.prototype.isValid=function(e){return!isNaN(e.startTime)},e.prototype.closestWithinTolerance=function(t,n,i){return void 0===i&&(i=r.b),t&&0!==t.length?this.getClosest(t,n,n-i,n+i,0,t.length-1):e.InvalidTimeEventEntry},e.prototype.getClosest=function(t,n,i,r,o,a){var s,l,c,u,d,p,m=t[o],h=this.isWithinRange(m,i,r);if(a===o)return h?m:e.InvalidTimeEventEntry;if(a-o==1){var f=t[a],v=this.isWithinRange(f,i,r);return h||v?v?h&&Math.abs(m.endTime-n)<=Math.abs(f.endTime-n)?m:f:m:e.InvalidTimeEventEntry}var y=o+(a-o>>1);if(y===a)d=(s=[y,y])[0],p=s[1];else{var g=t[y],b=t[y+1];g.endTime>=i&&b.endTime<=r?(d=(l=[y,y+1])[0],p=l[1]):g.endTime>=i?(d=(c=[o,y])[0],p=c[1]):(d=(u=[y+1,a])[0],p=u[1])}return this.getClosest(t,n,i,r,d,p)},e.prototype.isWithinRange=function(e,t,n){return t<=e.endTime&&n>=e.endTime},e.InvalidTimeEventEntry={type:"",hidden:!0,id:"",startTime:NaN,endTime:NaN},e}()},944:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(943),r=function(){function e(e){var t=this;this.player=e,this.mediaEventArray=null,this.initialized=!1,this.lastDuration=0,this.totalDuration=0,this.seekBarPadding=0,this.durationChangeEvent=function(){var e=t.player.duration();t.lastDuration!==e&&(t.lastDuration=e,t.clearUIElements(),t.addUIElements())}}return e.prototype.initialize=function(e,t,n){this.videoEvents=e,this.mediaEventArray=new i.a(this.videoEvents),this.updatePlayerAriaLabel(this.mediaEventArray.timedEventArray&&this.mediaEventArray.timedEventArray.length>0,this.player.htmlEncode(this.player.localize(t))),this.totalDuration=n,this.initialized?this.clearUIElements():(this.initialized=!0,this.createElements(),this.appendElements(),this.addListeners()),this.addUIElements()},e.prototype.createCallout=function(e){this.mediaElementMarkerCallout=document.createElement("div"),this.mediaElementMarkerCallout.className=e,this.mediaElementMarkerContent=document.createElement("div"),this.mediaElementMarkerContent.className="callout-content",this.mediaElementMarkerCalloutMark=document.createElement("div"),this.mediaElementMarkerCalloutMark.className="callout-mark"},e.prototype.getSeekBarBounds=function(){var e=this.player.controlBar.progressControl.el(),t=e.getBoundingClientRect().left,n=e.getBoundingClientRect().right;return n-t-2*this.seekBarPadding<=0?[0,0,0,0]:[t,n,t-this.player.playerElement().getBoundingClientRect().left,(this.player.duration()||this.totalDuration)/(n-t-2*this.seekBarPadding)]},e.prototype.hideMarkerHover=function(){this.mediaElementMarkerCallout.classList.remove("shown")},e.prototype.showCallout=function(e,t,n,i){this.mediaElementMarkerContent.textContent=n,this.mediaElementMarkerContent.setAttribute("aria-label",n),this.mediaElementMarkerContent.setAttribute("aria-live","polite");var r=Math.min(this.measureDivWidth(this.mediaElementMarkerContent),this.player.playerElement().offsetWidth/4)+16;this.mediaElementMarkerContent.style.width=r+"px";var o=i-r/2,a=0,s=o+r,l=e-r,c=0;o<0?(a=o,c=Math.max(o,-t),o=0):s>e&&(a=o-l,c=Math.min(s-e,t),o=l),this.mediaElementMarkerCallout.style.left=o+c+"px",this.mediaElementMarkerCalloutMark.style.left=r/2-c+a-10+"px",this.mediaElementMarkerCallout.classList.add("shown")},e.prototype.measureDivWidth=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.visibility="hidden",t.style.display="block",t.style.left="0px",t.className="callout";var n=document.createElement("div");n.innerHTML=e.innerHTML,n.className=e.className,t.appendChild(n),this.player.playerElement().appendChild(t);var i=t.offsetWidth;return this.player.playerElement().removeChild(t),i},e.prototype.updatePlayerAriaLabel=function(e,t){var n,i=t,r=document.querySelector(".vjs-player");if(r){var o=r.getAttribute("data-sla");if(e===!!o)return;var a=r.getAttribute("aria-label");o=(n=e?[a,i]:[null,o])[0],a=n[1],r.setAttribute("aria-label",a||""),o?r.setAttribute("data-sla",o):r.removeAttribute("data-sla")}},e.prototype.getProgressSlider=function(){return this.player.playerElement().querySelectorAll(".vjs-progress-control")[0]},e.prototype.getMarkerById=function(e,t){return(t.filter((function(t){return t.getAttribute("marker-id")===e}))||[null])[0]},e.prototype.clearMarkers=function(e){var t=this.getProgressSlider();t&&e&&e.forEach((function(e){e.detachListeners&&e.detachListeners(),t.removeChild(e)})),e=[]},e.prototype.addMarkers=function(e,t){var n=this.getProgressSlider(),i=[];return n&&(i=e.map((function(e){return t(e)}))).forEach((function(e){return n.appendChild(e)})),i},e}()},945:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var u=videojs.getComponent("Button");n(1126);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t.name="skipForwardButton",(n=l.call(this,e,t)).controlTextEl_.innerText=n.localize("Skip Forward"),n}return t=u,(n=[{key:"handleClick",value:function(){var e=this.player().currentTime();this.player().currentTime(Math.min(e+this.options().skipSeconds,this.player().duration()))}},{key:"buildCSSClass",value:function(){return"amp-skip-Forward ".concat(o(c(u.prototype),"buildCSSClass",this).call(this))}}])&&r(t.prototype,n),i&&r(t,i),u}(u);videojs.registerComponent("SkipForwardButton",d);videojs.plugin("skipForwardButtonPlugin",(function(e){var t=this;t.on("loadedmetadata",(function(){var n=t.controlBar.children(),i=null;if(!t.controlBar.skipForwardButton)for(var r=0;r<n.length;r++)if(n[r].el()&&"amp-controlbaricons-left"===n[r].el().className){var o=n[r];(i=t.controlBar.addChild("SkipForwardButton",e))&&(skipForwardModeButton=o.el().insertBefore(i.el(),t.controlBar.volumeControl.el())),i&&(t.controlBar.skipForwardButton=i);break}}))}))},946:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}videojs.getComponent("Component");var u=videojs.getComponent("Button");n(1128);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,i,l=s(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t.name="SkipBackButton",(n=l.call(this,e,t)).controlTextEl_.innerText=n.localize("Skip Back"),n}return t=u,(n=[{key:"handleClick",value:function(){var e=this.player().currentTime();this.player().currentTime(Math.max(e-this.options().skipSeconds,0))}},{key:"buildCSSClass",value:function(){return"amp-skip-Back ".concat(o(c(u.prototype),"buildCSSClass",this).call(this))}}])&&r(t.prototype,n),i&&r(t,i),u}(u);videojs.registerComponent("SkipBackButton",d);videojs.plugin("skipBackButtonPlugin",(function(e){var t=this;t.on("loadedmetadata",(function(){var n=t.controlBar.children();if(!t.controlBar.skipBackButton)for(var i=0;i<n.length;i++)if(n[i].el()&&"amp-controlbaricons-left"===n[i].el().className){var r=n[i];skipBackButton=t.controlBar.addChild("SkipBackButton",e),skipBackButton&&(insertBefore=t.controlBar.skipForwardButton?t.controlBar.skipForwardButton:t.controlBar.volumeControl,skipBackModeButton=r.el().insertBefore(skipBackButton.el(),insertBefore.el())),skipBackButton&&(t.controlBar.skipBackButton=skipBackButton);break}}))}))},988:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b}));var i,r,o,a,s=n(0);!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure",e[e.Warning=2]="Warning"}(i||(i={})),function(e){e[e.Auto=0]="Auto",e[e.NotApplicable=1]="NotApplicable",e[e.Video=2]="Video",e[e.LiveUpdate=3]="LiveUpdate",e[e.CreateLive=4]="CreateLive",e[e.Upload=5]="Upload",e[e.MyVideos=6]="MyVideos",e[e.MyChannels=7]="MyChannels",e[e.Hub=8]="Hub",e[e.VideoUpdate=9]="VideoUpdate",e[e.BrowseChannels=10]="BrowseChannels",e[e.BrowseVideos=11]="BrowseVideos",e[e.Channel=12]="Channel",e[e.ChannelView=13]="ChannelView",e[e.ChannelUpdate=14]="ChannelUpdate",e[e.TopBar=15]="TopBar",e[e.EmbedPlayerPage=16]="EmbedPlayerPage",e[e.Welcome=17]="Welcome",e[e.Watchlist=18]="Watchlist",e[e.RecentlyViewed=19]="RecentlyViewed",e[e.InviteDialog=20]="InviteDialog",e[e.ChannelCreateDialog=21]="ChannelCreateDialog",e[e.UploadCaptionDialog=22]="UploadCaptionDialog",e[e.VideoShareDialog=23]="VideoShareDialog",e[e.AddChannelDialog=24]="AddChannelDialog",e[e.GetStartedVideoDialog=25]="GetStartedVideoDialog",e[e.SessionExpiredDialog=26]="SessionExpiredDialog",e[e.Startup=27]="Startup",e[e.UserVideos=28]="UserVideos",e[e.UserChannels=29]="UserChannels",e[e.BrowsePeople=30]="BrowsePeople",e[e.AdminSettings=31]="AdminSettings",e[e.AdminDownloadVideos=32]="AdminDownloadVideos",e[e.UserSettings=33]="UserSettings",e[e.EmbedChannelPage=34]="EmbedChannelPage",e[e.EmbedGroupPage=35]="EmbedGroupPage",e[e.MicrosoftTeamsTabConfig=36]="MicrosoftTeamsTabConfig",e[e.AccessibilityOptionsDialog=37]="AccessibilityOptionsDialog",e[e.GroupEditDialog=38]="GroupEditDialog",e[e.GroupCreateDialog=39]="GroupCreateDialog",e[e.PrincipalEditDialog=40]="PrincipalEditDialog",e[e.ForgottenUsers=41]="ForgottenUsers",e[e.ChannelsFollowing=42]="ChannelsFollowing",e[e.GroupHome=43]="GroupHome",e[e.GroupVideos=44]="GroupVideos",e[e.Group=45]="Group",e[e.BrowseGroups=46]="BrowseGroups",e[e.StudioGroups=47]="StudioGroups",e[e.GroupChannels=48]="GroupChannels",e[e.EmbedWatchListPage=49]="EmbedWatchListPage",e[e.GroupPrincipals=50]="GroupPrincipals",e[e.GroupMembersAddDialog=51]="GroupMembersAddDialog",e[e.ChannelShareDialog=52]="ChannelShareDialog",e[e.OfficeVideoMigration=53]="OfficeVideoMigration",e[e.EmbedSearchPage=54]="EmbedSearchPage",e[e.EmbedVideoChannelSearch=55]="EmbedVideoChannelSearch",e[e.TrialCountdownDialog=56]="TrialCountdownDialog",e[e.Embed=57]="Embed",e[e.EmbedBrowsePage=58]="EmbedBrowsePage",e[e.EmbedLiveStatistics=59]="EmbedLiveStatistics",e[e.EmbedProducer=60]="EmbedProducer",e[e.CompanyPolicyDialog=61]="CompanyPolicyDialog",e[e.EmbedServerError=62]="EmbedServerError",e[e.LiveEventProducerPage=63]="LiveEventProducerPage",e[e.RecycleBin=64]="RecycleBin",e[e.AdminSettingsRecycleBin=65]="AdminSettingsRecycleBin",e[e.MyMeetings=66]="MyMeetings",e[e.Error=67]="Error",e[e.BgUploadProgress=68]="BgUploadProgress",e[e.loginScreen=69]="loginScreen",e[e.WaitingRoom=70]="WaitingRoom"}(r||(r={})),function(e){e[e.Video=0]="Video",e[e.Channel=1]="Channel",e[e.Group=2]="Group",e[e.Comment=3]="Comment",e[e.Tenant=4]="Tenant",e[e.VideoEvent=5]="VideoEvent",e[e.WatchList=6]="WatchList",e[e.Browse=7]="Browse"}(o||(o={})),function(e){e[e.DrawerButton=0]="DrawerButton",e[e.AdminAccessOnlyBar=1]="AdminAccessOnlyBar"}(a||(a={}));var l,c,u,d,p={recordVideo:"RecordVideo",uploadSessionEventName:"UploadSession",uploadSummaryEventName:"UploadSummary",searchSummaryEventName:"SearchSummary",videoUpdateSummaryEventName:"VideoUpdateSummary",videoUploadTabToggled:"VideoUploadTabToggled",editVideoEventName:"EditVideo",videoPageSessionEventname:"VideoPageSession",editFailureEventName:"EditFailure",channelCreateEventName:"ChannelCreateSummary",channelSummaryEventName:"ChannelSummary",studioVideosSessionEventName:"StudioVideosSessionSummary",studioMeetingsSessionEventName:"StudioMeetingsSessionSummary",userVideosSessionEventName:"userVideosSessionSummary",userChannelsSessionEventName:"userChannelsSessionSummary",groupChannelsSessionEventName:"groupChannelsSessionSummary",studioChannelsSessionEventName:"StudioChannelsSessionSummary",browseChannelsSessionEventName:"BrowseChannelsSessionSummary",browsePeopleSessionEventName:"BrowsePeopleSessionSummary",browseVideosSessionEventName:"BrowseVideosSessionSummary",channelVideosSessionEventName:"ChannelVideosSessionSummary",myWatchlistVideosSessionEventName:"MyWatchlistVideosSessionSummary",TeamsUpsellClicked:"TeamsUpsellClicked",hubPageEventName:"HubSummary",VideoPlayerSummary:"VideoPlayerPlaybackSummary",VideoPlayerHeartbeat:"VideoPlayerHeartbeat",videoPlayerSourceSet:"VideoPlayerSourceSet",videoPlayerManualBitRateChanged:"videoPlayerManualBitRateChanged",videoplayerLoadStart:"VideoPlayerLoadStart",videoPlayerLoaded:"VideoPlayerLoaded",videoPlayerAnalyticsstreamloaded:"videoPlayerAnalyticsStreamLoaded",videoPlayerStarted:"VideoPlayerStarted",videoPlayerEnded:"VideoPlayerEnded",videoPlayerPlay:"VideoPlayerPlay",videoPlayerPlaying:"VideoPlayerPlaying",videoPlayerPause:"VideoPlayerPause",videoPlayerSeeking:"VideoPlayerSeeking",videoPlayerFullscreen:"VideoPlayerFullScreen",videoPlayerExitFullscreen:"VideoPlayerExitFullScreen",videoPlayerWaiting:"VideoPlayerWaiting",videoPlayerMute:"VideoPlayerMute",videoPlayerUnmute:"VideoPlayerUnmute",videoCaptionsOn:"videoCaptionsOn",videoCaptionsOff:"videoCaptionsOff",audioEnhancementTurnedOn:"audioEnhancementTurnedOn",audioEnhancementTurnedOff:"audioEnhancementTurnedOff",freClosed:"FreClosed",freOpenedLearnMore:"FreOpenedLearnMore",freShown:"FreShown",failedToChangeAudioTrack:"FailedToChangeAudioTrack",ClickSearchTranscriptButton:"ClickSearchTranscriptButton",liveEventStarted:"LiveEventStarted",liveEventEnded:"LiveEventEnded",VideoPlayerRetryOnError:"VideoPlayerRetryOnError",VideoPlayerError:"VideoPlayerError",VideoPlaybackWarning:"VideoPlaybackWarning",userFeedbackReceived:"UserFeedbackReceived",manualVideoFeedback:"ManualVideoFeedback",manualProducerFeedback:"ManualProducerFeedback",inviteDialogSessionSummary:"inviteDialogSessionSummary",commentsSummary:"CommentsSummary",sessionExpiredEvent:"SessionExpired",AddToChannelDialogSummary:"AddToChannelDialogSummary",AddToGroupChannelDialogSummary:"AddToGroupChannelDialogSummary",InviteEmail:"InviteEmail",adminModeToggled:"AdminModeToggled",administratorSettingsEventName:"AdministratorSettingsSummary",adminSettingsAssignAdminsEventName:"AdminSettingsAssignAdmins",adminSettingsStreamAccessEventName:"AdminSettingsStreamAccess",adminSettingsSpotlightVideosEventName:"AdminSettingsSpotlightVideos",adminSettingsForgottenUsersEventName:"AdminSettingsForgottenUsers",adminSettingsCompanyPoliciesEventName:"AdminSettingsCompanyPolicies",adminSettingsUsageDetailsEventName:"AdminSettingsUsageDetails",adminSettingsGroupEventName:"AdminSettingsGroup",adminSettingsSupportEventName:"AdminSettingsSupport",adminSettingsContentCreationEventName:"AdminSettingsContentCreation",adminDownloadVideosListEventName:"adminDownloadVideosList",adminDownloadVideosLoadVideosEventName:"adminDownloadVideosLoadVideos",adminSettingsLiveEventEventName:"AdminSettingsLiveEvent",adminSettingsCommentsEventName:"AdminSettingsComments",adminSettingsFaceDetectionEventName:"AdminSettingsFaceDetection",adminSettingsSpotlightEventName:"AdminSettingsSpotlight",adminSettingsPersonalDataEventName:"AdminSettingsPersonalData",adminSettingsNetworkCachingEventName:"AdminSettingsNetworkCaching",adminSettingsResetCompanyPolicy:"AdminSettingsResetCompanyPolicy",adminSettingsExternalSharingEventName:"AdminSettingsExternalSharing",groupSpotlight:"GroupSpotlight",groupSpotlightVideos:"GroupSpotlightVideos",elevatedVideoSession:"ElevatedVideoSession",elevatedChannelSession:"ElevatedChannelSession",timeTagClickedEventName:"timeTagClicked",tagClickedEventName:"tagClicked",StatusCalledBecauseOfNotification:"StatusCalledBecauseOfNotification",StatusCalledBecauseOfTimer:"StatusCalledBecauseOfTimer",SignalRNotificationReceived:"SignalRNotificaitonReceived",EncoderSetupSummary:"encoderSetupSummary",userScrollTranscriptPane:"userScrollTranscriptPane",ShowHideTranscriptToggle:"ShowHideTranscriptToggle",ProviderReportLinkClicked:"ProviderReportLinkClicked",DownloadCSVButtonClicked:"DownloadCSVButtonClicked",embedSummary:"EmbedSummary",embedVideoSummary:"EmbedPlayerActionBarSummary",embedChannelSummary:"EmbedChannelSummary",embedGroupSummary:"EmbedGroupSummary",embedMSTeamsTabConfig:"EmbedMSTeamsTabConfigSummary",embedWatchListSummery:"EmbedWatchlistSummary",embedBrowseSummary:"EmbedBrowseSummary",embedServerError:"embedservererror",embedLoadingFullResources:"embedLoadingFullResources",embedLoadingMinifiedResources:"embedLoadingMinifiedResources",embedClientResourcesLoaded:"embedClientResourcesLoaded",embedLoginScreenShown:"embedLoginScreenShown",embedLoginButtonClicked:"embedLoginButtonClicked",embedVideoPosterClicked:"EmbedVideoPosterClicked",groupEditSummary:"GroupEditSummary",groupCreateSummary:"GroupCreateSummary",principalEditSummary:"PrincipalEditSummary",channelsFollowingEventName:"ChannelsFollowing",channelUpdateEventName:"ChannelUpdateSummary",groupVideosSessionEventName:"groupVideosSessionEventName",browseGroupsSessionEventName:"BrowseGroupsSession",studioGroupsSessionEventName:"studioGroupsSession",siteLoaded:"SiteLoaded",loggerStarted:"Logger_Started",loggerUserServicePlanFetchedOnClient:"Logger_UserServicePlanFetchedOnClient",loggerUserServicePlanFetchedOnWebrole:"Logger_UserServicePlanFetchedOnWebrole",loggerLogCacheFlushed:"Logger_LogCacheFlushed",loggerAppExited:"Logger_AppExited",loggerScreenTagged:"Logger_ScreenTagged",navigationCompleted:"Navigation_Completed",loggerLLInit:"Logger_LocalyticsInitialized",loggerAICacheManualFlush:"Logger_AICacheManualFlush",groupPrincipalsSessionEventName:"groupPrincipalsSessionEventName",addGroupMembersSummary:"AddGroupMembersSummary",presentationFileMissing:"presentationFileMissing",adminDownloadFilesMissing:"adminDownloadFilesMissing",trialCountdownDialogRead:"trialCountdownDialogRead",userNotificationsReady:"userNotificationsReady",alreadySignedIn:"alreadySignedIn",tokenAuthChosen:"tokenAuthChosen",silentLoginChosen:"silentLoginChosen",connectToParentRequested:"connectToParentRequested",getAuthTokenRequested:"getAuthTokenRequested",createInvitationClicked:"createInvitationClicked",editInTeamsClicked:"editInTeamsClicked",editInYammerClicked:"editInYammerClicked",editInOtherAppClicked:"editInOtherAppClicked",officeTopNavRendered:"officeTopNavRendered",officeTopNavLoaded:"officeTopNavLoaded",producerEventStateChanged:"producerEventStateChanged",producerEventStateChangedSaveFailed:"producerEventStateChangedSaveFailed",producerIngestStateChanged:"producerIngestStateChanged",producerError:"producerError",producerEncoderSelected:"producerEncoderSelected",producerSummary:"producerSummary",manifestAvailable:"manifestAvailable",selectStartSetup:"selectStartSetup",selectStartSetupFailed:"selectStartSetupFailed",selectStartEvent:"selectStartEvent",selectStartEventFailed:"selectStartEventFailed",selectDisconnect:"selectDisconnect",selectDisconnectFailed:"selectDisconnectFailed",selectEndEvent:"selectEndEvent",selectEndEventFailed:"selectEndEventFailed",setupStarted:"setupStarted",eventStarted:"eventStarted",setupDisconnected:"setupDisconnected",eventEnded:"eventEnded",liveEventEmbeddedCaptionClickCount:"liveEventEmbeddedCaptionClickCount",signInSuccessful:"signInSuccessful",signInFailed:"signInFailed",signInIncomplete:"signInIncomplete",dataLoaded:"dataLoaded",sessionInfoUserClaimMissing:"sessionInfoUserClaimMissing",tenantFilter:"tenantFilter",encoderSetupUsed:"encoderSetupUsed",wireCastSDownloaded:"wireCastSDownloaded",localyticsError:"LocalyticsError",formsLoaded:"formsLoaded",ShareDialog:"ShareDialog",InteractiveForm:"InteractiveForm",PlayThroughPostMessaging:"PlayThroughPostMessaging",PauseThroughPostMessaging:"PauseThroughPostMessaging",UnknownPlayerFunction:"UnknownPlayerFunction",VideoEditorLoadOptionSelected:"VideoEditorLoadOptionSelected",VideoEditorLoaded:"VideoEditorLoaded",VideoEdited:"VideoEdited",VideoEditFailed:"VideoEditFailed",VideoEditOptionDisplayedForLive:"VideoEditOptionDisplayedForLive",VideoEditOptionDisplayedOnListView:"VideoEditOptionDisplayedOnListView",VideoEditOptionDisplayedOnVideoPage:"VideoEditOptionDisplayedOnVideoPage",VideoEditorPostProcess:"videoEditorPostProcess",StudioRecycleBinSessionEventName:"StudioRecycleBinSessionSummary",AdminSettingsRecycleBinSessionEventName:"AdminSettingsRecycleBinSessionSummary",TranscriptUserAction:"TranscriptUserAction",TopBarMenuItemClicked:"TopBarMenuItemClicked",TabClicked:"TabClicked",TabChanged:"TabChanged",TabChangedCanceled:"TabChangedCanceled",PetrolSucceeded:"PetrolSucceeded",PetrolFailed:"PetrolFailed",OcvAppWideFeedbackSucceeded:"OcvAppWideFeedbackSucceeded",OcvAppWideFeedbackFailed:"OcvAppWideFeedbackFailed",OcvScreenRecorderFeedbackSucceeded:"OcvScreenRecorderFeedbackSucceeded",OcvScreenRecorderFeedbackFailed:"OcvScreenRecorderFeedbackFailed",PublicAnonymousChanged:"PublicAnonymousChanged",PublicAnonymousConfirmationDialogClosed:"PublicAnonymousConfirmationDialogClosed",O365GroupEditFailed:"O365GroupEditFailed"};!function(e){e[e.NotApplicable=0]="NotApplicable",e[e.MediaUploaderService_CancelUpload=1]="MediaUploaderService_CancelUpload",e[e.AudienceAnalytics_DownloadCSV=2]="AudienceAnalytics_DownloadCSV",e[e.ChannelService_GetVideos=3]="ChannelService_GetVideos",e[e.VideoService_CompleteUpload=4]="VideoService_CompleteUpload",e[e.VideoService_Create=5]="VideoService_Create",e[e.ChannelService_DeleteChannel=6]="ChannelService_DeleteChannel",e[e.VideoService_DeleteVideo=7]="VideoService_DeleteVideo",e[e.ChannelService_Follow=8]="ChannelService_Follow",e[e.ChannelService_GetChannel=9]="ChannelService_GetChannel",e[e.ChannelService_Query=10]="ChannelService_Query",e[e.ChannelService_GetMyFollowingChannels=11]="ChannelService_GetMyFollowingChannels",e[e.VideoService_GetPinnedVideos=12]="VideoService_GetPinnedVideos",e[e.VideoService_GetRecentlyViewedVideos=13]="VideoService_GetRecentlyViewedVideos",e[e.VideoService_GetSupportedExtensions=14]="VideoService_GetSupportedExtensions",e[e.VideoService_GetVideo=15]="VideoService_GetVideo",e[e.VideoService_GetPublicPlaybackUrl=16]="VideoService_GetPublicPlaybackUrl",e[e.VideoService_GetVideoChannels=17]="VideoService_GetVideoChannels",e[e.VideoService_Share=18]="VideoService_Share",e[e.VideoService_GetAll=19]="VideoService_GetAll",e[e.VideoService_GetFiles=20]="VideoService_GetFiles",e[e.ExternalProvider_Yammer=21]="ExternalProvider_Yammer",e[e.PrincipalService_GetMyPrincipalInfo=22]="PrincipalService_GetMyPrincipalInfo",e[e.PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement=23]="PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement",e[e.PrincipalService_PatchMySettings=24]="PrincipalService_PatchMySettings",e[e.PrincipalService_Patch=25]="PrincipalService_Patch",e[e.PrincipalService_PatchFreForAudioEnhancement=26]="PrincipalService_PatchFreForAudioEnhancement",e[e.PrincipalService_Delete=27]="PrincipalService_Delete",e[e.VideoService_GetVideoStatus=28]="VideoService_GetVideoStatus",e[e.VideoService_Like=29]="VideoService_Like",e[e.ChannelService_PatchChannel=30]="ChannelService_PatchChannel",e[e.VideoService_PatchVideo=31]="VideoService_PatchVideo",e[e.VideoService_PatchPublicAnonymous=32]="VideoService_PatchPublicAnonymous",e[e.VideoService_PinVideo=33]="VideoService_PinVideo",e[e.VideoService_GetLinks=34]="VideoService_GetLinks",e[e.VideoService_SetLinks=35]="VideoService_SetLinks",e[e.VideoService_SetLiveEvent=36]="VideoService_SetLiveEvent",e[e.SpotlightService_GetTenantSpotlight=37]="SpotlightService_GetTenantSpotlight",e[e.SpotlightService_GetGroupSpotlight=38]="SpotlightService_GetGroupSpotlight",e[e.LiveEventService_GetTenantLiveEvent=39]="LiveEventService_GetTenantLiveEvent",e[e.ProcessingVideo=40]="ProcessingVideo",e[e.ChannelService_RemoveVideo=41]="ChannelService_RemoveVideo",e[e.ThumbnailService_SetAsPosterImage=42]="ThumbnailService_SetAsPosterImage",e[e.ThumbnailService_Query=43]="ThumbnailService_Query",e[e.ThumbnailService_Create=44]="ThumbnailService_Create",e[e.ChannelService_Search=45]="ChannelService_Search",e[e.PrincipalService_SearchPrincipals=46]="PrincipalService_SearchPrincipals",e[e.PrincipalService_GetforgottenUsers=47]="PrincipalService_GetforgottenUsers",e[e.VideoService_Search=48]="VideoService_Search",e[e.VideoService_StartUpload=49]="VideoService_StartUpload",e[e.MediaUploaderService_Upload=50]="MediaUploaderService_Upload",e[e.VideoService_GetTrendingVideos=51]="VideoService_GetTrendingVideos",e[e.TenantService_GetTenantProvisioningInfo=52]="TenantService_GetTenantProvisioningInfo",e[e.TenantService_GetTenantSettings=53]="TenantService_GetTenantSettings",e[e.TenantService_PatchTenantSettings=54]="TenantService_PatchTenantSettings",e[e.TenantService_GetTenantDomains=55]="TenantService_GetTenantDomains",e[e.TenantService_GetDataExport=56]="TenantService_GetDataExport",e[e.TenantService_ResetCompanyPolicy=57]="TenantService_ResetCompanyPolicy",e[e.ChannelService_Unfollow=58]="ChannelService_Unfollow",e[e.VideoService_UnpinVideo=59]="VideoService_UnpinVideo",e[e.VideoService_Unlike=60]="VideoService_Unlike",e[e.ChannelService_SetPosterImage=61]="ChannelService_SetPosterImage",e[e.General_ShowInviteOthers=62]="General_ShowInviteOthers",e[e.General_ShowGettingStarted=63]="General_ShowGettingStarted",e[e.General_ShowBgUploadNotice=64]="General_ShowBgUploadNotice",e[e.General_ShowVideoLanguageNote=65]="General_ShowVideoLanguageNote",e[e.General_HideDefaultLanguageDialog=66]="General_HideDefaultLanguageDialog",e[e.General_ShowFirstTimeExperienceInVideoEditor=67]="General_ShowFirstTimeExperienceInVideoEditor",e[e.System_PolicyAcknowledgement=68]="System_PolicyAcknowledgement",e[e.System_EmailNotification=69]="System_EmailNotification",e[e.TextTrackDataService_Query=70]="TextTrackDataService_Query",e[e.CommentService_Query=71]="CommentService_Query",e[e.CommentService_Post=72]="CommentService_Post",e[e.CommentService_Patch=73]="CommentService_Patch",e[e.CommentService_Delete=74]="CommentService_Delete",e[e.CommentService_Get=75]="CommentService_Get",e[e.General_BrowserCreateImages=76]="General_BrowserCreateImages",e[e.UploadService_StartUpload=77]="UploadService_StartUpload",e[e.UploadService_UploadFiles=78]="UploadService_UploadFiles",e[e.General_ErrorState=79]="General_ErrorState",e[e.General_PlaybackFailed=80]="General_PlaybackFailed",e[e.ChannelService_Create=81]="ChannelService_Create",e[e.TextTrackDataService_Create=82]="TextTrackDataService_Create",e[e.TextTrackDataService_Delete=83]="TextTrackDataService_Delete",e[e.TextTrackDataService_Patch=84]="TextTrackDataService_Patch",e[e.DisablingTelemetry=85]="DisablingTelemetry",e[e.PrincipalService_GetMyInfo=86]="PrincipalService_GetMyInfo",e[e.PrincipalService_exportData=87]="PrincipalService_exportData",e[e.EnablingTelemetry=88]="EnablingTelemetry",e[e.RoleAssignmentService_GetGlobalAssignment=89]="RoleAssignmentService_GetGlobalAssignment",e[e.RoleAssignmentService_GetChannelAssignment=90]="RoleAssignmentService_GetChannelAssignment",e[e.RoleAssignmentService_GetVideoAssignment=91]="RoleAssignmentService_GetVideoAssignment",e[e.RoleAssignmentService_SetGlobalAssignment=92]="RoleAssignmentService_SetGlobalAssignment",e[e.RoleAssignmentService_SetChannelAssignment=93]="RoleAssignmentService_SetChannelAssignment",e[e.RoleAssignmentService_SetVideoAssignment=94]="RoleAssignmentService_SetVideoAssignment",e[e.RoleAssignmentService_SetGroupAssignment=95]="RoleAssignmentService_SetGroupAssignment",e[e.RoleService_GetViewerRoleId=96]="RoleService_GetViewerRoleId",e[e.RoleService_GetContributorRoleId=97]="RoleService_GetContributorRoleId",e[e.RoleService_GetGlobalRoleId=98]="RoleService_GetGlobalRoleId",e[e.RoleService_GetOwnerRoleId=99]="RoleService_GetOwnerRoleId",e[e.NotificationService_Disconnected=100]="NotificationService_Disconnected",e[e.NotificationService_NotConnected=101]="NotificationService_NotConnected",e[e.NotificationService_ReConnecting=102]="NotificationService_ReConnecting",e[e.NotificationService_ReConnected=103]="NotificationService_ReConnected",e[e.NotificaitonService_SlowConnection=104]="NotificaitonService_SlowConnection",e[e.NotificaitonService_JoinedGroups=105]="NotificaitonService_JoinedGroups",e[e.NotificaitonService_JoinVideoGroups=106]="NotificaitonService_JoinVideoGroups",e[e.NotificaitonService_LeaveVideoGroups=107]="NotificaitonService_LeaveVideoGroups",e[e.VideoEvent_GetTranscriptCaption=108]="VideoEvent_GetTranscriptCaption",e[e.VideoService_GetDownloadUrl=109]="VideoService_GetDownloadUrl",e[e.VideoService_GetAnalyticsDownloadUrl=110]="VideoService_GetAnalyticsDownloadUrl",e[e.VideoService_DownloadVideo=111]="VideoService_DownloadVideo",e[e.VideoService_GetIngest=112]="VideoService_GetIngest",e[e.VideoService_StartIngest=113]="VideoService_StartIngest",e[e.VideoService_StartBroadcast=114]="VideoService_StartBroadcast",e[e.VideoService_StopIngest=115]="VideoService_StopIngest",e[e.VideoService_GetTokens=116]="VideoService_GetTokens",e[e.VideoEvent_Search=117]="VideoEvent_Search",e[e.VideoEvent_HidePerson=118]="VideoEvent_HidePerson",e[e.VideoEvent_UnhidePerson=119]="VideoEvent_UnhidePerson",e[e.VideoEvent_MergePerson=120]="VideoEvent_MergePerson",e[e.VideoEvent_SaveTranscript=121]="VideoEvent_SaveTranscript",e[e.VideoEvent_ReplaceVideo=122]="VideoEvent_ReplaceVideo",e[e.MigrationNoticesService_GetVideoMigrationNotices=123]="MigrationNoticesService_GetVideoMigrationNotices",e[e.MigrationNoticesService_GetTenantMigrationNotices=124]="MigrationNoticesService_GetTenantMigrationNotices",e[e.MigrationNoticesService_GetChannelMigrationNotices=125]="MigrationNoticesService_GetChannelMigrationNotices",e[e.OEmbed_Get=126]="OEmbed_Get",e[e.GroupService_Get=127]="GroupService_Get",e[e.GroupService_Create=128]="GroupService_Create",e[e.GroupService_Patch=129]="GroupService_Patch",e[e.GroupService_Delete=130]="GroupService_Delete",e[e.GroupService_GetMember=131]="GroupService_GetMember",e[e.GroupService_EmailUnique=132]="GroupService_EmailUnique",e[e.GroupService_GetClassifications=133]="GroupService_GetClassifications",e[e.GroupService_GetPolicies=134]="GroupService_GetPolicies",e[e.GroupService_RemoveVideo=135]="GroupService_RemoveVideo",e[e.GroupService_GetPrefixSuffix=136]="GroupService_GetPrefixSuffix",e[e.GroupService_ValidateInGroupCreate=137]="GroupService_ValidateInGroupCreate",e[e.GroupService_ValidateInGroupEdit=138]="GroupService_ValidateInGroupEdit",e[e.GroupService_RemoveMember=139]="GroupService_RemoveMember",e[e.ChannelEvent_DeletePosterImage=140]="ChannelEvent_DeletePosterImage",e[e.GroupService_GetTrendingVideos=141]="GroupService_GetTrendingVideos",e[e.GroupService_GetChannels=142]="GroupService_GetChannels",e[e.GroupService_GetVideos=143]="GroupService_GetVideos",e[e.GroupService_AddMembers=144]="GroupService_AddMembers",e[e.GroupService_Search=145]="GroupService_Search",e[e.PersonService_GetPersons=146]="PersonService_GetPersons",e[e.GroupService_ListMembers=147]="GroupService_ListMembers",e[e.TenantService_GetTenantUsages=148]="TenantService_GetTenantUsages",e[e.UserNotificationService_Query=149]="UserNotificationService_Query",e[e.UserNotificationService_Get=150]="UserNotificationService_Get",e[e.UserNotificationService_Read=151]="UserNotificationService_Read",e[e.UserNotificationService_Dismiss=152]="UserNotificationService_Dismiss",e[e.GetAuthToken_MicrosoftTeams=153]="GetAuthToken_MicrosoftTeams",e[e.GetAuthToken_StreamPostMessageSDK=154]="GetAuthToken_StreamPostMessageSDK",e[e.LiveEvent_ResetPosterImage=155]="LiveEvent_ResetPosterImage",e[e.LiveEvent_CreateInvite=156]="LiveEvent_CreateInvite",e[e.LiveEvent_ReplaceVideo=157]="LiveEvent_ReplaceVideo",e[e.SDN_Plugin_File=158]="SDN_Plugin_File",e[e.SDNInitFailure=159]="SDNInitFailure",e[e.SDNFatalError=160]="SDNFatalError",e[e.Forms_Get=161]="Forms_Get",e[e.Forms_Add=162]="Forms_Add",e[e.Forms_Delete=163]="Forms_Delete",e[e.RecycleBinService_DeleteVideo=164]="RecycleBinService_DeleteVideo",e[e.RecycleBinService_RestoreVideo=165]="RecycleBinService_RestoreVideo",e[e.LocaleHelperService_SettingLocale=166]="LocaleHelperService_SettingLocale"}(l||(l={})),function(e){e[e.KeyAcquireError=0]="KeyAcquireError",e[e.NetworkTimeoutError=1]="NetworkTimeoutError",e[e.SegmentDecryptError=2]="SegmentDecryptError",e[e.MediaAbortedError=3]="MediaAbortedError",e[e.ClientNetworkError=4]="ClientNetworkError",e[e.ServerNetworkError=5]="ServerNetworkError",e[e.GenericNetworkError=6]="GenericNetworkError",e[e.NoInternetConnectionError=7]="NoInternetConnectionError",e[e.AESDecodeError=8]="AESDecodeError",e[e.SourceNotSupportedError=9]="SourceNotSupportedError",e[e.GenericDecryptError=10]="GenericDecryptError",e[e.PlayerMismatchError=11]="PlayerMismatchError",e[e.UnknownError=12]="UnknownError"}(c||(c={})),function(e){e[e.NotApplicable=0]="NotApplicable",e[e.AddVideoToChannel=1]="AddVideoToChannel",e[e.AudienceAnalytics=2]="AudienceAnalytics",e[e.ChannelVideos=3]="ChannelVideos",e[e.ChannelsFollowing=4]="ChannelsFollowing",e[e.CreateChannel=5]="CreateChannel",e[e.DeleteChannel=6]="DeleteChannel",e[e.DeleteVideo=7]="DeleteVideo",e[e.DeleteTextTrack=8]="DeleteTextTrack",e[e.Follow=9]="Follow",e[e.GetVideo=10]="GetVideo",e[e.LoadChannelPage=11]="LoadChannelPage",e[e.LoadEmbedVideoPage=12]="LoadEmbedVideoPage",e[e.LoadEmbedLiveStatisticsPage=13]="LoadEmbedLiveStatisticsPage",e[e.LoadEmbedProducerPage=14]="LoadEmbedProducerPage",e[e.LoadVideoPage=15]="LoadVideoPage",e[e.LoadVideoPlayer=16]="LoadVideoPlayer",e[e.LoadExternalProviderScript=17]="LoadExternalProviderScript",e[e.LoadVideoUpdatePage=18]="LoadVideoUpdatePage",e[e.LoadSdnPlugin=19]="LoadSdnPlugin",e[e.PinVideo=20]="PinVideo",e[e.PopularChannels=21]="PopularChannels",e[e.UnpinVideo=22]="UnpinVideo",e[e.LikeVideo=23]="LikeVideo",e[e.UnlikeVideo=24]="UnlikeVideo",e[e.PublishVideo=25]="PublishVideo",e[e.RemoveVideoFromChannel=26]="RemoveVideoFromChannel",e[e.RemoveVideoFromGroup=27]="RemoveVideoFromGroup",e[e.ReplaceVideo=28]="ReplaceVideo",e[e.ShareVideo=29]="ShareVideo",e[e.CreatePublicAnonymousLink=30]="CreatePublicAnonymousLink",e[e.SearchChannels=31]="SearchChannels",e[e.SearchPrincipals=32]="SearchPrincipals",e[e.SearchVideos=33]="SearchVideos",e[e.SearchGroupVideos=34]="SearchGroupVideos",e[e.TrendingVideos=35]="TrendingVideos",e[e.TenantProvisioning=36]="TenantProvisioning",e[e.UpdateChannel=37]="UpdateChannel",e[e.UpdateVideo=38]="UpdateVideo",e[e.UploadCustomThumbnail=39]="UploadCustomThumbnail",e[e.UploadTextTrack=40]="UploadTextTrack",e[e.UpdateTextTrack=41]="UpdateTextTrack",e[e.UploadVideo=42]="UploadVideo",e[e.UnFollow=43]="UnFollow",e[e.VideoPlayback=44]="VideoPlayback",e[e.VideoPlaybackTrace=45]="VideoPlaybackTrace",e[e.WatchListVideos=46]="WatchListVideos",e[e.RecentlyViewedVideos=47]="RecentlyViewedVideos",e[e.InviteOthers=48]="InviteOthers",e[e.RenewTokenWebTier=49]="RenewTokenWebTier",e[e.RenewApiGatewayTokenCookie=50]="RenewApiGatewayTokenCookie",e[e.RenewTokenAdal=51]="RenewTokenAdal",e[e.GetVideoStatus=52]="GetVideoStatus",e[e.GetVideoChannels=53]="GetVideoChannels",e[e.GetSupportedExtensions=54]="GetSupportedExtensions",e[e.GetPrincipalSettings=55]="GetPrincipalSettings",e[e.UpdatePrincipalSettings=56]="UpdatePrincipalSettings",e[e.GetComments=57]="GetComments",e[e.PostComment=58]="PostComment",e[e.UpdateComment=59]="UpdateComment",e[e.DeleteComment=60]="DeleteComment",e[e.EnableOrDisableTelemetry=61]="EnableOrDisableTelemetry",e[e.DisableTelemetry=62]="DisableTelemetry",e[e.GetUser=63]="GetUser",e[e.GetAdminSettings=64]="GetAdminSettings",e[e.GetForgottenUsers=65]="GetForgottenUsers",e[e.GetUserSettings=66]="GetUserSettings",e[e.GetTenantSpotlightVideos=67]="GetTenantSpotlightVideos",e[e.GetGroupSpotlightVideos=68]="GetGroupSpotlightVideos",e[e.UpdateAdminSettings=69]="UpdateAdminSettings",e[e.UpdateAdminCommentSettings=70]="UpdateAdminCommentSettings",e[e.UpdateAdminFaceDetectionSettings=71]="UpdateAdminFaceDetectionSettings",e[e.UpdateAdminCompanyPolicySettings=72]="UpdateAdminCompanyPolicySettings",e[e.UpdateAdminContentCreationSettings=73]="UpdateAdminContentCreationSettings",e[e.UpdateAdminLiveEventsSettings=74]="UpdateAdminLiveEventsSettings",e[e.UpdateAdminAssignAdminSettings=75]="UpdateAdminAssignAdminSettings",e[e.UpdateAdminSpotlightSettings=76]="UpdateAdminSpotlightSettings",e[e.UpdateAdminNetworkCachingSettings=77]="UpdateAdminNetworkCachingSettings",e[e.UpdateAdminExternalSharingSettings=78]="UpdateAdminExternalSharingSettings",e[e.ResetCompanyPolicy=79]="ResetCompanyPolicy",e[e.GeneratePersonalData=80]="GeneratePersonalData",e[e.UpdateGroupSpotlight=81]="UpdateGroupSpotlight",e[e.GetVideoForSpotlight=82]="GetVideoForSpotlight",e[e.GetVideosForSpotlight=83]="GetVideosForSpotlight",e[e.GetVideosForLiveEvent=84]="GetVideosForLiveEvent",e[e.PublicShareOptionShown=85]="PublicShareOptionShown",e[e.GetAdminDownloadVideos=86]="GetAdminDownloadVideos",e[e.GetAdminDownloadFiles=87]="GetAdminDownloadFiles",e[e.GetforgottenUsers=88]="GetforgottenUsers",e[e.GetUserExportData=89]="GetUserExportData",e[e.GetUploadPermissions=90]="GetUploadPermissions",e[e.LoadUserSettingsPage=91]="LoadUserSettingsPage",e[e.Topbar=92]="Topbar",e[e.NotificationConnection=93]="NotificationConnection",e[e.NotificationHubsJSLoad=94]="NotificationHubsJSLoad",e[e.UploadChannelCustomThumbnail=95]="UploadChannelCustomThumbnail",e[e.UploadVideoCustomThumbnail=96]="UploadVideoCustomThumbnail",e[e.UploadLiveVideoCustomThumbnail=97]="UploadLiveVideoCustomThumbnail",e[e.SaveVideoCustomThumbnail=98]="SaveVideoCustomThumbnail",e[e.LoadEmbedChannelPage=99]="LoadEmbedChannelPage",e[e.LoadEmbedGroupPage=100]="LoadEmbedGroupPage",e[e.EmailShare=101]="EmailShare",e[e.GetChannelByName=102]="GetChannelByName",e[e.LoadVideoTranscriptEvent=103]="LoadVideoTranscriptEvent",e[e.DownloadVideo=104]="DownloadVideo",e[e.GetVideoDownloadUrl=105]="GetVideoDownloadUrl",e[e.GetAnalyticsDownloadUrl=106]="GetAnalyticsDownloadUrl",e[e.ClickSearchTranscriptButton=107]="ClickSearchTranscriptButton",e[e.SearchVideoTranscriptEvent=108]="SearchVideoTranscriptEvent",e[e.TranscriptSelectedInSearchResult=109]="TranscriptSelectedInSearchResult",e[e.OEmbed=110]="OEmbed",e[e.EmbedVideoSearch=111]="EmbedVideoSearch",e[e.LiveUpdatePage=112]="LiveUpdatePage",e[e.LiveCreateInvite=113]="LiveCreateInvite",e[e.GetTenantSettings=114]="GetTenantSettings",e[e.VideoPlayback_KeyAcquireError=115]="VideoPlayback_KeyAcquireError",e[e.VideoPlayback_NetworkTimeoutError=116]="VideoPlayback_NetworkTimeoutError",e[e.VideoPlayback_SegmentDecryptError=117]="VideoPlayback_SegmentDecryptError",e[e.VideoPlayback_MediaAbortedError=118]="VideoPlayback_MediaAbortedError",e[e.VideoPlayback_ClientNetworkError=119]="VideoPlayback_ClientNetworkError",e[e.VideoPlayback_ServerNetworkError=120]="VideoPlayback_ServerNetworkError",e[e.VideoPlayback_GenericNetworkError=121]="VideoPlayback_GenericNetworkError",e[e.VideoPlayback_AESDecodeError=122]="VideoPlayback_AESDecodeError",e[e.VideoPlayback_SourceNotSupportedError=123]="VideoPlayback_SourceNotSupportedError",e[e.VideoPlayback_GenericDecryptError=124]="VideoPlayback_GenericDecryptError",e[e.VideoPlayback_PlayerMismatchError=125]="VideoPlayback_PlayerMismatchError",e[e.VideoPlayback_UnknownError=126]="VideoPlayback_UnknownError",e[e.Group=127]="Group",e[e.GroupEdit=128]="GroupEdit",e[e.GroupCreate=129]="GroupCreate",e[e.GroupDelete=130]="GroupDelete",e[e.GroupVideos=131]="GroupVideos",e[e.GroupChannels=132]="GroupChannels",e[e.GroupTrendingVideos=133]="GroupTrendingVideos",e[e.GroupPopularChannels=134]="GroupPopularChannels",e[e.GroupRecentVideos=135]="GroupRecentVideos",e[e.PrincipalEdit=136]="PrincipalEdit",e[e.PrincipalDelete=137]="PrincipalDelete",e[e.ListGroups=138]="ListGroups",e[e.ListGroupMembers=139]="ListGroupMembers",e[e.LoadPersons=140]="LoadPersons",e[e.HidePerson=141]="HidePerson",e[e.UnHidePerson=142]="UnHidePerson",e[e.MergePerson=143]="MergePerson",e[e.RenewAntiForgeryToken=144]="RenewAntiForgeryToken",e[e.LoggerInitialization=145]="LoggerInitialization",e[e.SaveTranscript=146]="SaveTranscript",e[e.AddGroupMembers=147]="AddGroupMembers",e[e.AdminManagement_DataUsage=148]="AdminManagement_DataUsage",e[e.UserNotifications=149]="UserNotifications",e[e.TrialSuspensionDialog=150]="TrialSuspensionDialog",e[e.SessionInfoWebTier=151]="SessionInfoWebTier",e[e.ExchangeToken=152]="ExchangeToken",e[e.ExchangeFormsToken=153]="ExchangeFormsToken",e[e.GetAuthToken=154]="GetAuthToken",e[e.ConnectToParent=155]="ConnectToParent",e[e.TokenSSO=156]="TokenSSO",e[e.OfficeTopNav=157]="OfficeTopNav",e[e.SetUpSDN=158]="SetUpSDN",e[e.LiveProducerCreate=159]="LiveProducerCreate",e[e.LiveProducerSetup=160]="LiveProducerSetup",e[e.LiveProducerBroadcast=161]="LiveProducerBroadcast",e[e.LiveProducerPostprocess=162]="LiveProducerPostprocess",e[e.LiveProducerUpdate=163]="LiveProducerUpdate",e[e.LivePlayback=164]="LivePlayback",e[e.LivePlayback_KeyAcquireError=165]="LivePlayback_KeyAcquireError",e[e.LivePlayback_NetworkTimeoutError=166]="LivePlayback_NetworkTimeoutError",e[e.LivePlayback_SegmentDecryptError=167]="LivePlayback_SegmentDecryptError",e[e.LivePlayback_MediaAbortedError=168]="LivePlayback_MediaAbortedError",e[e.LivePlayback_ClientNetworkError=169]="LivePlayback_ClientNetworkError",e[e.LivePlayback_ServerNetworkError=170]="LivePlayback_ServerNetworkError",e[e.LivePlayback_GenericNetworkError=171]="LivePlayback_GenericNetworkError",e[e.LivePlayback_AESDecodeError=172]="LivePlayback_AESDecodeError",e[e.LivePlayback_SourceNotSupportedError=173]="LivePlayback_SourceNotSupportedError",e[e.LivePlayback_GenericDecryptError=174]="LivePlayback_GenericDecryptError",e[e.LivePlayback_PlayerMismatchError=175]="LivePlayback_PlayerMismatchError",e[e.LivePlayback_UnknownError=176]="LivePlayback_UnknownError",e[e.OfficeMigration=177]="OfficeMigration",e[e.OFficeMigration_GetMigrationNotices=178]="OFficeMigration_GetMigrationNotices",e[e.ProducerPlayback=179]="ProducerPlayback",e[e.VideoPlayback_LoadTimeExceededThreshold=180]="VideoPlayback_LoadTimeExceededThreshold",e[e.VideoPlayback_BufferingExceededThreshold=181]="VideoPlayback_BufferingExceededThreshold",e[e.VideoPlayback_ChunkDownloadFailuresExceededThreshold=182]="VideoPlayback_ChunkDownloadFailuresExceededThreshold",e[e.LivePlayback_LoadTimeExceededThreshold=183]="LivePlayback_LoadTimeExceededThreshold",e[e.LivePlayback_BufferingExceededThreshold=184]="LivePlayback_BufferingExceededThreshold",e[e.LivePlayback_ChunkDownloadFailuresExceededThreshold=185]="LivePlayback_ChunkDownloadFailuresExceededThreshold",e[e.Forms=186]="Forms",e[e.PrincipalItemListGroupMembers=187]="PrincipalItemListGroupMembers",e[e.AddForm=188]="AddForm",e[e.ShowHideTranscriptToggle=189]="ShowHideTranscriptToggle",e[e.RecycleBinList=190]="RecycleBinList",e[e.RecycleBinDeleteVideo=191]="RecycleBinDeleteVideo",e[e.RecycleBinRestoreVideo=192]="RecycleBinRestoreVideo",e[e.LocaleHelperService=193]="LocaleHelperService",e[e.GetECSConfig=194]="GetECSConfig",e[e.RetryBgUpload=195]="RetryBgUpload",e[e.SetDefaultSortOption=196]="SetDefaultSortOption",e[e.RenewLokiToken=197]="RenewLokiToken",e[e.RenewMSGraphToken=198]="RenewMSGraphToken",e[e.O365Group=199]="O365Group",e[e.O365GroupLoadedAfterUpdate=200]="O365GroupLoadedAfterUpdate"}(u||(u={})),function(e){e.PanelAddNewFormClicked="panelAddNewFormClicked",e.PanelFormAddedClicked="panelFormAddedClicked",e.PanelAddCanceledClicked="panelAddCanceledClicked",e.PanelDeleteClicked="panelDeleteClicked",e.FormUserInteraction="formUserInteraction",e.FormContinueClicked="formContinueClicked",e.FormOpenClicked="formOpenClicked",e.FormVideoMarkerClicked="formVideoMarkerClicked",e.FormClosed="formClosed",e.FormOpened="formOpened"}(d||(d={}));var m,h=n(943),f=n(944),v=n(942),y=.5,g=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formsOrigin="https://forms.office.com",i.formsRootUrl=i.formsOrigin+"/Pages/ResponsePage.aspx?id=",i.OpenFormTolerance=4,i.continueVideoText=i.player.htmlEncode(i.player.localize("Continue to video")),i.interactiveFormText=i.player.htmlEncode(i.player.localize("Interactive form.")+i.player.localize("You have not viewed this form")),i.mediaEventControls={},i.currentMediaEvent=null,i.pixelTolerance=8,i.isFormShowing=!1,i.hasPlayed=!1,i.onKeyUp=function(e){if(i.player.controls())switch(e.keyCode){case v.a.ArrowLeft:case v.a.ArrowRight:case v.a.ArrowDown:case v.a.ArrowUp:i.showMediaEventAfterSeek()}},i.paused=function(){i.player.seeking()||i.getMediaEventForCurrentTime()},i.dispose=function(){i.stopFocusPolling(),i.player.removeEventListener(amp.eventName.timeupdate,i.timeUpdate),i.player.removeEventListener(amp.eventName.pause,i.paused),i.player.removeEventListener(amp.eventName.durationchange,i.durationChangeEvent),i.player.removeEventListener(amp.eventName.disposing,i.dispose),i.player.removeEventListener(amp.eventName.seeked,i.seeked),i.player.removeEventListener("keyup",i.onKeyUp),i.mediaEventDiv.removeEventListener("message",i.embeddedFormAuth)},i.seeked=function(){i.hasPlayed?i.player.scrubbing()||i.showMediaEventAfterSeek():i.hasPlayed=!0},i.timeUpdate=function(){var e=i.player;e.seeking&&e.seeking()||i.isFormShowing||(e.scrubbing&&e.scrubbing()||e.paused&&e.paused()?i.updateOpenFormButton():i.getMediaEventForCurrentTime())},i.onContinueVideoClick=function(e){void 0===e&&(e=window.event),e&&e.preventDefault(),i.trackEventForCurrentMediaItem(d.FormContinueClicked),i.closeForm(e)},i.closeForm=function(e){void 0===e&&(e=window.event);var t=i.currentMediaEvent,n=e&&0===e.clientX;i.closeEventOverlay().then((function(){if(t&&t.eventData){i.setAsViewed(t);var e=i.getMarkerById(t.id||"",i.markers);e.classList.add("played"),e.setAttribute("aria-label",i.player.htmlEncode(i.player.localize("Interactive form.")+i.player.localize("You have not viewed this form")))}if(n){var r=document.querySelector(".vjs-progress-holder");r&&r.focus()}var o=Math.floor(((new Date).getTime()-i.timeFormOpened.getTime())/1e3);i.trackEventForCurrentMediaItem(d.FormClosed,{},{viewDurationInSeconds:o})&&i.stopFocusPolling(),i.onFormClosed&&i.onFormClosed(i.videoId,t,o,i.mediaEventControls[m.continueVideo].id),window.dispatchEvent(i.createCustomEvent("Interactive.closed")),i.isFormShowing=!1}))},i.onOpenFormClick=function(){var e=i.currentMediaEvent;i.trackEventForCurrentMediaItem(d.FormOpenClicked,{timeCode:i.player.currentTime()}),i.onFormOpened&&i.onFormOpened(i.videoId,e,i.mediaEventControls[m.openForm].id),i.openEventOverlay()},i.createMarker=function(e){var t=document.createElement("button"),n=i.player.duration()||i.totalDuration;if(n>0){t.className="timed-media-event-plugin marker";var r=document.createElement("p");t.setAttribute("aria-label",i.player.htmlEncode(i.player.localize("Interactive form"))),e.eventData.hasBeenShown?(t.className+=" played",r.innerHTML=i.player.htmlEncode(i.player.localize("You have viewed this form"))):r.innerHTML=i.player.htmlEncode(i.player.localize("You have not viewed this form")),r.setAttribute("id",e.id+"description"),r.className="srOnly",t.setAttribute("aria-describedby",e.id+"description"),t.appendChild(r),t.setAttribute("marker-id",e.id||""),t.addEventListener("mousedown",(function(t){return i.markerMouseDown(t,e)})),t.addEventListener("keyup",(function(t){return i.markerKeyUp(t,e)})),t.addEventListener("click",(function(){return i.onMarkerClick(e)})),t.addEventListener("mouseover",(function(){return i.showMarkerHoverForEvent(e)})),t.addEventListener("focus",(function(){return i.showMarkerHoverForEvent(e)})),t.addEventListener("mouseleave",(function(){return i.hideMarkerHover()})),t.addEventListener("blur",(function(){return i.hideMarkerHover()})),t.style.left=e.endTime/n*100+"%",t.detachListeners=function(){t.removeEventListener("mousedown",(function(t){return i.markerMouseDown(t,e)})),t.removeEventListener("keyup",(function(t){return i.markerKeyUp(t,e)})),t.removeEventListener("click",(function(){return i.onMarkerClick(e)})),t.removeEventListener("mouseover",(function(){return i.showMarkerHoverForEvent(e)})),t.removeEventListener("focus",(function(){return i.showMarkerHoverForEvent(e)})),t.removeEventListener("mouseleave",(function(){return i.hideMarkerHover()})),t.removeEventListener("blur",(function(){return i.hideMarkerHover()}))}}return t},i.onMarkerClick=function(e){var t=i.hasBeenShown(e);i.player.pause().currentTime(e.endTime),i.showMediaEvent(e,!0),i.trackEventForCurrentMediaItem(d.FormVideoMarkerClicked,{timeCode:e.endTime,previouslyViewed:t}),i.onVideoEventMarkerClick&&i.onVideoEventMarkerClick(i.videoId,i.currentMediaEvent,i.getMarkerById(e.id,i.markers).id)},i.getMediaEventForCurrentTime=function(){var e=i.player.currentTime(),t=i.mediaEventArray.getEventNearTimeCode(e);i.mediaEventArray.isValid(t)||(t=i.mediaEventArray.getEventNearTimeCode(e,i.OpenFormTolerance)),i.mediaEventArray.isValid(t)&&i.shouldShow(t,e)&&i.currentMediaEvent!==t&&i.showMediaEvent(t),null===i.currentMediaEvent||i.shouldShow(i.currentMediaEvent,e)||(i.closeEventOverlay(),i.currentMediaEvent=null)},i.updateOpenFormButton=function(){var e=i.player.currentTime(),t=i.mediaEventArray.getEventNearTimeCode(e,i.OpenFormTolerance),n="none"!==window.getComputedStyle(i.mediaEventControls[m.openForm]).getPropertyValue("display");if(i.mediaEventArray.isValid(t)&&t.eventData.hasBeenShown){if(n)return;i.showMediaEvent(t),i.currentMediaEvent=t}else{if(!n)return;i.hideButton(m.openForm),i.currentMediaEvent=null}},i.getButton=function(e){return i.mediaEventControls[e]},i.getMarker=function(e){return i.markers[e]},i.initializeEventFunctions=function(){amp.getComponent("Player").prototype.setEvents=i.setEvents.bind(i),amp.getComponent("Player").prototype.jumpToEvent=i.onMarkerClick.bind(i)},i.initializeElement(n),i}return Object(s.d)(t,e),t.prototype.initializeElement=function(e){this.telemetryTracker=e.telemetryTracker,this.playbackSessionId=e.playbackSessionId,this.videoId=e.videoId,this.zOrder=e.zOrder,e.formsCallbacks&&(this.onGetFormsToken=e.formsCallbacks.onGetFormsToken,this.onFormOpened=e.formsCallbacks.onFormOpened,this.onFormClosed=e.formsCallbacks.onFormClosed,this.onFormViewed=e.formsCallbacks.onFormViewed,this.onFormUserInteraction=e.formsCallbacks.onFormUserInteraction),this.onVideoEventMarkerClick=e.onVideoEventMarkerClick,(0!==(e.videoEvents||[]).length||this.mediaEventArray)&&this.initialize(e.videoEvents,"Video player, contains forms",e.videoDuration)},t.prototype.appendElements=function(){this.player.playerElement().appendChild(this.mediaEventDiv),this.getProgressSlider().appendChild(this.mediaElementMarkerCallout)},t.prototype.addListeners=function(){this.player.addEventListener(amp.eventName.timeupdate,this.timeUpdate),this.player.addEventListener(amp.eventName.pause,this.paused),this.player.addEventListener(amp.eventName.durationchange,this.durationChangeEvent),this.player.addEventListener(amp.eventName.disposing,this.dispose),this.player.addEventListener(amp.eventName.seeked,this.seeked),this.player.addEventListener("keyup",this.onKeyUp),this.listenForMessages()},t.prototype.startFocusPolling=function(){var e=this,t=this.currentMediaEvent;if(this.telemetryTracker&&t&&t.eventData){var n=t.eventData.hasBeenShown||!1;this.stopFocusPolling(),this.focusPollHandle=setInterval((function(){if(document.activeElement===e.mediaEventFrame)return e.trackEventForCurrentMediaItem(d.FormUserInteraction,{timeCode:t.endTime,previouslyViewed:n}),e.onFormUserInteraction&&e.onFormUserInteraction(e.videoId,t,e.mediaEventFrame.id),void e.stopFocusPolling()}),500)}},t.prototype.stopFocusPolling=function(){this.focusPollHandle&&window.clearInterval(this.focusPollHandle),this.focusPollHandle=null},t.prototype.showMediaEventAfterSeek=function(){var e=this.player.currentTime(),t=this.eventAtTimecode(e,this.pixelTolerance);this.mediaEventArray&&this.mediaEventArray.isValid(t)&&"form"===t.type&&this.showMediaEvent(t,!0)},t.prototype.setAsViewed=function(e){e.eventData.hasBeenShown=!0;var t={detail:{videoId:this.videoId,videoEvent:e}};this.onFormViewed&&this.onFormViewed(this.videoId,e),window.dispatchEvent(this.createCustomEvent("interactive.viewed",t))},t.prototype.createCustomEvent=function(e,t){if(window.CustomEvent&&"function"==typeof window.CustomEvent)return new CustomEvent(e,t);t=t||{bubbles:!1,cancelable:!1};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail),n},t.prototype.closeEventOverlay=function(){var e=this;return new Promise((function(t,n){e.mediaEventFrame.addEventListener("load",(function(){"about:blank"===e.mediaEventFrame.src?(e.setButtonText(m.continueVideo,e.continueVideoText),e.hide(e.mediaEventDiv),e.hide(e.mediaEventFrameLabel),e.player.play(),e.player.controls(!0),e.hideAllButtons(),t()):n()}),{once:!0}),e.mediaEventFrame.src="about:blank"}))},t.prototype.openEventOverlay=function(){if(this.mediaEventArray){this.setButtonText(m.continueVideo,this.continueVideoText);var e=this.currentMediaEvent||this.mediaEventArray.getEventNearTimeCode(this.player.currentTime(),this.OpenFormTolerance);this.showMediaEvent(e,!0),this.logOpenFormEvent()}},t.prototype.logOpenFormEvent=function(){var e=!!this.currentMediaEvent&&this.hasBeenShown(this.currentMediaEvent);this.timeFormOpened=new Date,this.trackEventForCurrentMediaItem(d.FormOpened,{timeCode:this.player.currentTime(),previouslyViewed:e})&&this.startFocusPolling()},t.prototype.hideAllButtons=function(){this.hideButtons(Object.keys(this.mediaEventControls))},t.prototype.hideButton=function(e){this.hideButtons([e])},t.prototype.hideButtons=function(e){var t=this;e.forEach((function(e){return t.hide(t.mediaEventControls[e])}))},t.prototype.showOnlyOneButton=function(e){var t=this;Object.keys(this.mediaEventControls).forEach((function(n){n===e?t.show(t.mediaEventControls[n]):t.hide(t.mediaEventControls[n])}))},t.prototype.hide=function(e){e.style.display="none"},t.prototype.show=function(e){e.style.display="block"},t.prototype.setButtonText=function(e,t){this.mediaEventControls[e].innerText=t},t.prototype.createElements=function(){this.mediaEventDiv=document.createElement("div"),this.mediaEventDiv.className="timed-media-event-plugin overlay",this.mediaEventFrameLabel=document.createElement("div"),this.mediaEventFrameLabel.setAttribute("tabindex","-1"),this.mediaEventFrameLabel.setAttribute("aria-label",this.interactiveFormText),this.mediaEventFrameLabel.className="timed-media-event-plugin content-frame-label",this.mediaEventFrame=document.createElement("iframe"),this.mediaEventFrame.style.border="none",this.mediaEventFrame.className="timed-media-event-plugin content-frame",this.mediaEventFrame.title=this.player.htmlEncode(this.player.localize("Interactive form.")+this.player.localize("You have not viewed this form")),this.mediaEventFrame.setAttribute("tabindex","0"),this.mediaEventFrame.src="about:blank",this.mediaEventFrameWash=document.createElement("div"),this.mediaEventFrameWash.className="timed-media-event-plugin content-frame-wash";var t=document.createElement("button");t.innerText=this.continueVideoText,t.className="timed-media-event-plugin control-link close-form",t.id="close-form",t.onclick=this.onContinueVideoClick,t.onmouseover=function(){t.style.backgroundColor="rgba(33,33,33,0.95)"},t.onmouseout=function(){t.style.backgroundColor="rgba(33,33,33,0.75)"},t.setAttribute("tabindex","0"),this.openFormButtonText=document.createElement("div"),this.openFormButtonText.className="open-form-text",this.openFormButtonText.innerText=this.player.htmlEncode(this.player.localize("Open form"));var n=document.createElement("button");n.className="timed-media-event-plugin control-link open-form",n.id="open-form",n.onclick=this.onOpenFormClick,n.onmouseover=function(){n.style.backgroundColor="rgba(33,33,33,0.95)"},n.onmouseout=function(){n.style.backgroundColor="rgba(33,33,33,0.75)"},n.setAttribute("tabindex","0"),n.appendChild(this.openFormButtonText),e.prototype.createCallout.call(this,"callout");var i=document.createElement("div");i.className="callout-translate animation";var r=document.createElement("div");r.className="callout-scale animation";var o=document.createElement("div");o.className="callout-anchor";var a=document.createElement("div");a.className="animation callout-texture",this.mediaElementMarkerCallout.appendChild(i),i.appendChild(r),r.appendChild(o),o.appendChild(a),a.appendChild(this.mediaElementMarkerContent),a.appendChild(this.mediaElementMarkerCalloutMark),this.mediaEventControls[m.continueVideo]=t,this.mediaEventControls[m.openForm]=n,this.mediaEventDiv.appendChild(this.mediaEventFrameLabel),this.mediaEventFrameLabel.appendChild(this.mediaEventFrame),this.mediaEventDiv.appendChild(this.mediaEventFrameWash),this.mediaEventDiv.appendChild(t),this.mediaEventDiv.appendChild(n)},t.prototype.clearUIElements=function(){this.clearMarkers(this.markers),this.markers=[]},t.prototype.addUIElements=function(){this.mediaEventArray&&(this.markers=this.addMarkers(this.mediaEventArray.timedEventArray,this.createMarker))},t.prototype.markerMouseDown=function(e,t){e.preventDefault(),this.onMarkerClick(t)},t.prototype.markerKeyUp=function(e,t){e.keyCode===v.a.Enter&&(e.preventDefault(),this.onMarkerClick(t))},t.prototype.shouldShow=function(e,t){if(Math.abs(e.endTime-t)>Math.max(y,this.OpenFormTolerance))return!1;switch(e.type){case"form":return!!e.eventData.hasBeenShown||Math.floor(t)==Math.floor(e.endTime);default:return!0}},t.prototype.showMediaEvent=function(e,t){var n=this;switch(void 0===t&&(t=!1),e.type){case"form":var i=e.eventData,r=void 0;if(this.currentMediaEvent=e,!t&&i.hasBeenShown){var o=i&&i.title||"",a=void 0;r=m.openForm,a=o?this.player.localize("Open")+" "+o:this.player.htmlEncode(this.player.localize("Open form")),this.openFormButtonText.innerText=a,this.openFormButtonText.title=a,this.mediaEventDiv.classList.add("replay"),this.hide(this.mediaEventFrameLabel)}else{r=m.continueVideo,this.mediaEventDiv.classList.remove("replay"),this.player.pause(),this.player.controls(!1),this.show(this.mediaEventFrameLabel),this.mediaEventFrame.src=""+this.formsRootUrl+i.formId+"&"+(this.onGetFormsToken?"streamsso=true&embed=true":"embed=true")+"&Host=Stream";var l=Object(s.a)(Object(s.a)({},e),{type:"form",eventData:i});this.onFormOpened&&this.onFormOpened(this.videoId,l),window.dispatchEvent(this.createCustomEvent("interactive.opened")),this.isFormShowing=!0,setTimeout((function(){n.mediaEventFrameLabel.focus()}),1),this.logOpenFormEvent()}var c=100*i.topPosition+"%",u=100*(1-i.rightPosition)+"%";this.mediaEventDiv.style.paddingTop=c,this.mediaEventDiv.style.paddingRight=u,this.mediaEventDiv.style.paddingLeft=100*i.leftPosition+"%",this.mediaEventDiv.style.paddingBottom=100*(1-i.bottomPosition)+"%",this.mediaEventDiv.style.zIndex=""+this.zOrder,this.mediaEventControls[r].style.marginTop="",this.mediaEventControls[r].style.marginRight="",this.showOnlyOneButton(r),this.show(this.mediaEventDiv)}},t.prototype.listenForMessages=function(){this.mediaEventDiv.addEventListener("message",this.embeddedFormAuth,!1)},t.prototype.embeddedFormAuth=function(e){var t=this;if(e.origin===this.formsOrigin){var n=function(){return t.mediaEventFrame.contentWindow.postMessage("FormsAccessTokenFromHost:Bearer "+sessionInfo.FormsAccessToken,e.origin)};if(sessionInfo&&sessionInfo.FormsAccessToken)n();else{var i=this.onGetFormsToken&&this.onGetFormsToken();i&&i.then&&i.then((function(){return n()}))}}},t.prototype.eventAtTimecode=function(e,t){var n=t*this.getSeekBarBounds()[3],i=this.mediaEventArray.getEventNearTimeCode(e,n);return this.mediaEventArray.isValid(i)&&Math.abs(e-i.endTime)<n?i:h.a.InvalidTimeEventEntry},t.prototype.showMarkerHoverForEvent=function(e){var t=this.getSeekBarBounds(),n=t[0],i=t[1],r=t[2],o=t[3];this.showMarkerHover(e,o,i-n,r)},t.prototype.showMarkerHover=function(e,t,n,i){var r=e,o=r&&r.eventData&&r.eventData.title||null;if(null!==o){var a=e.endTime/t;this.showCallout(n,i,o,a)}},t.prototype.trackEventForCurrentMediaItem=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=void 0),this.telemetryTracker){var i=(this.currentMediaEvent||{id:null}).id,r=Object(s.a)({formEventType:e,videoId:this.videoId,formId:null,videoEventId:i,playbackSessionId:this.playbackSessionId},t);return this.currentMediaEvent&&this.currentMediaEvent.eventData&&(r.formId=this.currentMediaEvent.eventData.formId),this.telemetryTracker.trackEvent.apply(this.telemetryTracker,[p.InteractiveForm,r,n].filter((function(e){return!!e}))),!0}return!1},t.prototype.hasBeenShown=function(e){var t=e;return!!(t&&t.eventData&&t.eventData.hasBeenShown)},t.prototype.setEvents=function(e,t){this.initialize(e,"Video player, contains forms",t)},t}(f.a);!function(e){e.openForm="openForm",e.continueVideo="continueVideo"}(m||(m={}));var b=function(e){e&&e.videoEvents&&new g(this,e).initializeEventFunctions();return this}}}]);